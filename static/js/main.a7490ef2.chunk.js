(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(68)},32:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){},59:function(e,t,a){},61:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(21),c=(a(32),a(4)),l=a(69),o=a(3),m=s.a.createContext(),i=a(25),u=a(5),E=a.n(u),p=a(6),d=a(7),f=a.n(d),h=function(){return s.a.createElement("div",{className:"header"},s.a.createElement("div",{className:"header-text"},s.a.createElement("span",null,"Contacts")),s.a.createElement("div",{className:"header-add-user"},s.a.createElement("i",{className:"fas fa-user-plus"})))},g=function(){return s.a.createElement("div",{className:"footer"},s.a.createElement("div",{className:"footer-item active"},s.a.createElement("i",{className:"fas fa-user-friends"}),s.a.createElement("span",{className:"text-center"},"Contacts")),s.a.createElement("div",{className:"footer-item"},s.a.createElement("i",{className:"fas fa-comment-alt"}),s.a.createElement("span",null,"Chats")),s.a.createElement("div",{className:"footer-item"},s.a.createElement("i",{className:"fas fa-cog"}),s.a.createElement("span",null,"Settings")))},v=(a(55),function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1],l=function(){var e=Object(p.a)(E.a.mark(function e(){var t,a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://api.shankar.xyz/users",{headers:{Authorization:localStorage.getItem("TOKEN")}});case 2:t=e.sent,a=t.data,r(a);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return a.length||l(),s.a.createElement("div",{className:"sidebar"},s.a.createElement(h,null),s.a.createElement("div",{className:"user-list"},a.map(function(e,t){return s.a.createElement("div",{className:"user",key:t},s.a.createElement("div",{className:"profile-pic"},s.a.createElement("span",null,"".concat(e.firstName[0]," ").concat(e.lastName[0]))),s.a.createElement("div",{className:"user-detail"},s.a.createElement("span",{className:"username"},"".concat(e.firstName," ").concat(e.lastName)),s.a.createElement("span",{className:"last-seen"},"Seen a long time ago")),s.a.createElement("div",{className:"online-status"},t%2===0?s.a.createElement("div",{className:"online"}):s.a.createElement("div",{className:"offline"})))})),s.a.createElement(g,null))}),N=function(){return s.a.createElement("div",{className:"chat-header"},s.a.createElement("div",{className:"chatting-with"},s.a.createElement("span",null,"Bijay Regmi"),s.a.createElement("span",{className:"online-status"},"Active now")))},b=function(e){var t=e.msg;return s.a.createElement(s.a.Fragment,null,s.a.createElement("li",null,s.a.createElement("p",{className:"sent"},t)))},y=function(e){var t=e.msg;return s.a.createElement(s.a.Fragment,null,s.a.createElement("li",null,s.a.createElement("p",{className:"reply"},t)))},x=["Hello, welcome to simple Chat Application","It uses react's new hooks ","useState, useContext, useEffect","try typing some text in chat box and hit Enter","it will automatically update the conversation box","try sending some messages randomly","isn't is so cool??","please visit https://github.com/shankarregmi","Hello, welcome to simple Chat Application","It uses react's new hooks ","useState, useContext, useEffect","try typing some text in chat box and hit Enter","it will automatically update the conversation box","try sending some messages randomly","isn't is so cool??","please visit https://github.com/shankarregmi","Hello, welcome to simple Chat Application","It uses react's new hooks ","useState, useContext, useEffect","try typing some text in chat box and hit Enter","it will automatically update the conversation box","try sending some messages randomly","isn't is so cool??","please visit https://github.com/shankarregmi","Hello, welcome to simple Chat Application","It uses react's new hooks ","useState, useContext, useEffect","try typing some text in chat box and hit Enter","it will automatically update the conversation box","try sending some messages randomly","isn't is so cool??","please visit https://github.com/shankarregmi"],w=function(){return s.a.createElement("div",{className:"conversation"},s.a.createElement("ul",null,x.map(function(e,t){return t%2===0?s.a.createElement(b,{msg:e,key:t}):s.a.createElement(y,{msg:e,key:t})})))},k=function(){return s.a.createElement("div",{className:"no-chat-selected"},"Please select a chat to start messaging")},O=function(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),a=t[0],r=t[1];return s.a.createElement("div",{className:"msg-form"},s.a.createElement("input",{className:"form-control",value:a,onChange:function(e){var t=e.target.value;return r(t)},onKeyPress:function(e){"Enter"===e.key&&(console.log(a),r(""),function(){var e=document.getElementById("root");e.scrollTo({top:e.scrollHeight,behavior:"smooth"})}())}}))},S=(a(57),function(e){var t=e.conversationSelected,a=void 0===t||t;return s.a.createElement("div",{className:"chat"},s.a.createElement(N,null),a?s.a.createElement(w,null):s.a.createElement(k,null),s.a.createElement(O,null))}),j=(a(59),function(){return s.a.createElement("div",{className:"main"},s.a.createElement(v,null),s.a.createElement(S,null))}),C=a(8),I=a(22),A=(a(61),function(e,t){var a=Object(n.useState)({error:!1,username:"",password:""}),r=Object(c.a)(a,2),l=r[0],o=r[1],m=function(e){var t=e.target;o(Object(I.a)({},l,Object(C.a)({},t.name,t.value)))},i=function(){var e=Object(p.a)(E.a.mark(function e(t){var a,n,s,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=l.username,n=l.password,e.prev=2,e.next=5,f.a.post("https://api.shankar.xyz/auth/login",{username:a,password:n});case 5:s=e.sent,(r=s.data)&&r.token&&(localStorage.setItem("USERNAME",r.username),localStorage.setItem("TOKEN",r.token),B.push("/")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("ERROR",e.t0.message);case 13:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t){return e.apply(this,arguments)}}();return s.a.createElement("form",{onSubmit:i},s.a.createElement("div",{className:"login-container"},s.a.createElement("div",{className:"text-center"},s.a.createElement("h1",{className:"heading"},"Login")),s.a.createElement("input",{type:"text",className:"form-control col-sm-9",name:"username",id:"username",value:l.username,onChange:m,required:!0}),s.a.createElement("input",{type:"password",className:"form-control col-sm-9",name:"password",id:"password",value:l.password,onChange:m,required:!0}),s.a.createElement("div",{className:"text-center"},s.a.createElement("button",{type:"submit",className:"btn login-btn"},"Login"))))}),R=function(){return localStorage.getItem("USERNAME")},H=function(e){var t=e.component,a=Object(i.a)(e,["component"]);return s.a.createElement(l.b,Object.assign({},a,{render:function(e){return R()?s.a.createElement(t,e):s.a.createElement(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},z=Object(l.e)(function(){return s.a.createElement(l.d,null,s.a.createElement(H,{component:j,exact:!0,path:"/"}),s.a.createElement(l.b,{exact:!0,path:"/",render:function(){return R()?s.a.createElement(l.a,{to:"/"}):s.a.createElement(l.a,{to:"/login"})}}),s.a.createElement(l.b,{exact:!0,path:"/login",render:function(){return R()?s.a.createElement(l.a,{to:"/"}):s.a.createElement(l.b,{path:"/login",component:A})}}),s.a.createElement(l.a,{to:"/"}))}),B=Object(o.a)();Object(r.render)(s.a.createElement(function(){var e=localStorage.getItem("USERNAME"),t=Object(n.useState)({username:e}),a=Object(c.a)(t,2),r=a[0],o=a[1];return s.a.createElement(m.Provider,{value:{store:r,setContext:o}},s.a.createElement(l.c,{history:B},s.a.createElement(z,null)))},null),document.getElementById("root"))}},[[27,2,1]]]);
//# sourceMappingURL=main.a7490ef2.chunk.js.map