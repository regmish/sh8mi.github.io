(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(34)},25:function(e,t,a){},28:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(12),u=(a(25),a(4)),s=a(35),l=a(2),i=Object(n.createContext)(),o=a(18),m=a(3),d=a(13),f=a(14),v=a(15),b=a.n(v),E=(a(28),["hello","world","javascript","typescirpt","random","data","another random"].map(function(e,t){return{id:t,label:e}})),p=function(){function e(){Object(d.a)(this,e),this.id=b.a.uniqueId("consumer_"),this.isBusy=!1,this.data=null}return Object(f.a)(e,[{key:"consume",value:function(e,t){var a=this;if(this.isBusy)throw new Error("Busy");this.isBusy=!0,this.data=e,setTimeout(function(){a.isBusy=!1,a.data=null,t(a)},1e3)}}]),e}(),j=function(){var e=Object(n.useState)(E),t=Object(u.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)([{value:""}]),l=Object(u.a)(s,2),i=l[0],o=l[1],d=Object(n.useState)([new p,new p]),f=Object(u.a)(d,2),v=f[0],b=f[1],j=function(e,t){var a=Object(m.a)(i);a.splice(e,1,{value:t}),o(a)};return Object(n.useEffect)(function(){var e=setInterval(function(){!function(){var e=Object(m.a)(a),t=e.shift(),n=v.findIndex(function(e){return!e.isBusy});if(t&&n>-1){var c=v[n];c.consume(t,function(e){var t=Object(m.a)(v),a=t.findIndex(function(t){return t.id===e.id});t.splice(a,1,c),b(t)});var u=Object(m.a)(v);u.splice(n,1,c),b(u),r(e)}}(),a.length||clearInterval(e)},500);return function(){return clearInterval(e)}},[a]),c.a.createElement("div",{className:"stream-demo"},c.a.createElement("div",{className:"producers"},c.a.createElement("button",{className:"add",onClick:function(){o(Object(m.a)(i).concat([{value:""}]))}},"+"),i.map(function(e,t){return c.a.createElement("div",{key:t,className:"producer"},c.a.createElement("span",{className:"name"},"P".concat(t+1)),c.a.createElement("input",{value:e.value,onChange:function(e){return j(t,e.target.value)},onKeyPress:function(e){var n,c;"Enter"===e.key&&(n=t,c=e.target.value,r(Object(m.a)(a).concat([{id:a.length+1,label:c}])),j(n,""))}}))})),c.a.createElement("div",{className:"storage"},a.map(function(e){return c.a.createElement("span",{key:e.id,className:"data"},e.label)})),c.a.createElement("div",{className:"consumers"},v.map(function(e,t){return c.a.createElement("div",{key:t,className:"consumer"},c.a.createElement("span",{className:e.isBusy?"name busy":"name"},e.isBusy&&c.a.createElement("i",{className:"fas fa-cog fa-spin"}),!e.isBusy&&c.a.createElement("i",{className:"fas fa-cog"})),e.data&&c.a.createElement("span",null,e.data.label))})))},O=function(e){var t=e.children;return c.a.createElement("div",null,t)},h=function(e){var t=e.component,a=Object(o.a)(e,["component"]);return c.a.createElement(s.b,Object.assign({},a,{render:function(e){return c.a.createElement(O,null,c.a.createElement(t,e))}}))},y=Object(s.e)(function(){var e=function(){return c.a.createElement(s.a,{to:"/"})};return c.a.createElement(s.d,null,c.a.createElement(h,{exact:!0,path:"/",component:j}),c.a.createElement(s.b,{exact:!0,path:"/",render:e}),c.a.createElement(s.b,{exact:!0,path:"/login",render:e}),c.a.createElement(s.a,{to:"/"}))}),N=Object(l.a)();Object(r.render)(c.a.createElement(function(){var e=Object(n.useState)({}),t=Object(u.a)(e,2),a=t[0],r=t[1];return c.a.createElement(i.Provider,{value:{store:a,setContext:r}},c.a.createElement(s.c,{history:N},c.a.createElement(y,null)))},null),document.getElementById("root"))}},[[20,2,1]]]);
//# sourceMappingURL=main.61f6c79d.chunk.js.map