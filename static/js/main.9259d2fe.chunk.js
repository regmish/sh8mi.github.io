(this["webpackJsonpsimpleshop-ui"]=this["webpackJsonpsimpleshop-ui"]||[]).push([[0],{17:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),n=a(11),r=a.n(n),i=(a(17),a(2)),l=a.n(i),d=a(5),o=a(4),j=a(6),u=a(12),b=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL||"https://api.regdelivery.de",m=function(){var e=Object(d.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return m("".concat(b,"/items?query=").concat(e))},O=a(0),x=function(e){var t=e.position,a=void 0===t?"end":t,c=e.name,s=void 0===c?"drawer":c,n=e.children;return Object(O.jsxs)("div",{className:"offcanvas offcanvas-".concat(a),tabIndex:"-1",id:s,"aria-labelledby":"".concat(s,"Label"),"data-bs-backdrop":"true",children:[Object(O.jsx)("div",{className:"offcanvas-header"}),Object(O.jsx)("div",{className:"offcanvas-body",children:n})]})},v=a(3),p=a(8),f=function(e){var t=e.quantity,a=void 0===t?1:t,c=e.updateQuantity,s=e.className,n=void 0===s?"item-counter":s;return Object(O.jsxs)("div",{className:n,children:[Object(O.jsx)("button",{className:"".concat(n,"-dec"),disabled:a<=1,onClick:function(){return c(a-1)},children:" -"}),Object(O.jsxs)("span",{className:"".concat(n,"-val"),children:[" ",a," "]}),Object(O.jsx)("button",{className:"".concat(n,"-inc"),onClick:function(){return c(a+1)},children:" + "})]})},N=function(){var e=Object(j.useStripe)(),t=Object(j.useElements)(),a=function(){var a=Object(d.a)(l.a.mark((function a(c){var s,n,r,i;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(c.preventDefault(),e&&t){a.next=3;break}return a.abrupt("return");case 3:return console.log("Submitting..."),s=t.getElement(j.CardElement),a.next=7,e.createPaymentMethod({type:"card",card:s,metadata:{shankar:"Shankar Regmi"}});case 7:n=a.sent,r=n.error,i=n.paymentMethod,r?console.log("[error]",r):console.log("[PaymentMethod]",i);case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"modal fade",id:"exampleModalToggle","aria-hidden":"true","aria-labelledby":"exampleModalToggleLabel",tabIndex:"-1",children:Object(O.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(O.jsxs)("div",{className:"modal-content",children:[Object(O.jsx)("div",{className:"modal-header",children:Object(O.jsx)("h5",{className:"modal-title",id:"exampleModalToggleLabel",children:"Enter your Credit Card Details"})}),Object(O.jsx)("div",{className:"modal-body",children:Object(O.jsx)(j.CardElement,{options:{hidePostalCode:!0}})}),Object(O.jsx)("div",{className:"modal-footer",children:Object(O.jsx)("button",{className:"btn btn-primary",onClick:a,children:"Pay"})})]})})})},g=function(){var e=H(),t=e.store,a=e.setStoreData,c=null===t||void 0===t?void 0:t.cart.reduce((function(e,t){return e+t.quantity*t.price}),0);return Object(O.jsxs)("div",{className:"cart-container",children:[Object(O.jsxs)("div",{className:"cart-header",children:[Object(O.jsx)("div",{className:"cart-title",children:Object(O.jsx)("span",{children:"Your Cart"})}),Object(O.jsx)("div",{className:"cart-close","data-bs-dismiss":"offcanvas",children:Object(O.jsx)("span",{children:"X"})})]}),Object(O.jsx)("div",{className:"cart-body",children:t.cart.length?null===t||void 0===t?void 0:t.cart.map((function(e){return Object(O.jsxs)("div",{className:"cart-item",children:[Object(O.jsx)("div",{className:"cart-item-thumb",children:Object(O.jsx)("img",{src:e.imageUrl,alt:e.name})}),Object(O.jsxs)("div",{className:"cart-item-description",children:[Object(O.jsx)("span",{className:"cart-item-name",children:e.name}),Object(O.jsx)("span",{className:"cart-item-price",children:e.price}),Object(O.jsx)("span",{className:"cart-item-remove",onClick:function(){return function(e){var c=Object(p.a)(t.cart),s=t.cart.findIndex((function(t){return t.id===e.id}));c.splice(s,1),a(Object(v.a)(Object(v.a)({},t),{},{cart:c}))}(e)},children:"Remove"})]}),Object(O.jsx)("div",{className:"cart-item-counter",children:Object(O.jsx)(f,{quantity:e.quantity,className:"cart-counter",updateQuantity:function(c){return function(e,c){var s=Object(p.a)(t.cart),n=t.cart.findIndex((function(t){return t.id===e.id}));n>-1&&(c?s.splice(n,1,Object(v.a)(Object(v.a)({},e),{},{quantity:c})):s.splice(n,1)),a(Object(v.a)(Object(v.a)({},t),{},{cart:s}))}(e,c)}})})]},e.id)})):Object(O.jsx)("div",{className:"empty-cart",children:"Your cart is empty."})}),Object(O.jsxs)("div",{className:"sub-total",children:[Object(O.jsx)("span",{className:"sub-total-title",children:"Subtotal :"}),Object(O.jsxs)("span",{className:"sub-total-price",children:["\u20ac ",parseFloat(c).toFixed(2)]})]}),Object(O.jsx)("div",{className:"cart-footer","data-bs-toggle":"modal",href:"#exampleModalToggle",children:Object(O.jsxs)("button",{children:[Object(O.jsx)("span",{className:"cart-button",children:Object(O.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"#887e7e",className:"bi bi-cart-plus",viewBox:"0 0 16 16",children:[Object(O.jsx)("path",{d:"M9 5.5a.5.5 0 0 0-1 0V7H6.5a.5.5 0 0 0 0 1H8v1.5a.5.5 0 0 0 1 0V8h1.5a.5.5 0 0 0 0-1H9V5.5z"}),Object(O.jsx)("path",{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})]})}),Object(O.jsx)("span",{className:"add-to-cart-text",children:"Proceed to checkout"})]})}),Object(O.jsx)(N,{})]})},y=function(e){var t=e.onSearchResult,a=Object(c.useState)([]),s=Object(o.a)(a,2),n=s[0],r=s[1],i=Object(c.useState)(""),j=Object(o.a)(i,2),u=j[0],v=j[1],p=H().store;Object(c.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(b);case 2:t=e.sent,r(t),document.title=t.title;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var f=function(){var e=Object(d.a)(l.a.mark((function e(a){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==a.key){e.next=6;break}return e.next=3,h(u);case 3:c=e.sent,t(c),v("");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"header",children:[Object(O.jsx)("div",{className:"logo-icon",children:Object(O.jsx)("img",{src:n.logoURL,alt:"Shop Logo"})}),Object(O.jsx)("div",{className:"shop-title",children:Object(O.jsx)("span",{children:n.title})}),Object(O.jsx)("div",{className:"search",children:Object(O.jsx)("input",{id:"searchInput",type:"text",value:u,onChange:function(e){return v(e.target.value)},onKeyPress:f,placeholder:"Search..."})}),Object(O.jsxs)("div",{className:"cart",children:[Object(O.jsx)("span",{className:"cart-icon","data-bs-toggle":"offcanvas","data-bs-target":"#cartDrawer","aria-controls":"cartDrawer",children:Object(O.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"#887e7e",className:"bi bi-cart-plus",viewBox:"0 0 16 16",children:[Object(O.jsx)("path",{d:"M9 5.5a.5.5 0 0 0-1 0V7H6.5a.5.5 0 0 0 0 1H8v1.5a.5.5 0 0 0 1 0V8h1.5a.5.5 0 0 0 0-1H9V5.5z"}),Object(O.jsx)("path",{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})]})}),p.cart.length?Object(O.jsx)("div",{className:"number-items",children:p.cart.length}):null]}),Object(O.jsx)(x,{position:"end",name:"cartDrawer",children:Object(O.jsx)(g,{})})]})},w=function(e){var t=e.onSearchResult,a=e.children;return Object(O.jsxs)("div",{className:"layout",children:[Object(O.jsx)(y,{onSearchResult:t}),Object(O.jsx)("div",{className:"container",children:a})]})},S=function(e){var t=e.item,a=void 0===t?{}:t,n=H(),r=n.store,i=n.setStoreData,l=s.a.useState(1),d=Object(o.a)(l,2),j=d[0],u=d[1];return Object(c.useEffect)((function(){var e=(r.cart||[]).find((function(e){return e.id===a.id}));u((null===e||void 0===e?void 0:e.quantity)||1)}),[a,r.cart]),Object(O.jsxs)("div",{className:"item-detail",children:[Object(O.jsx)("div",{className:"item-detail-close","data-bs-dismiss":"offcanvas",children:Object(O.jsx)("span",{children:"X"})}),Object(O.jsx)("div",{className:"item-name",children:Object(O.jsx)("h1",{children:a.name})}),Object(O.jsx)("div",{className:"item-price",children:"\u20ac ".concat(a.price," EUR")}),Object(O.jsx)("div",{className:"item-image",children:Object(O.jsx)("img",{src:a.imageUrl,alt:a.name})}),Object(O.jsx)("div",{className:"quantity",children:Object(O.jsx)(f,{quantity:j,updateQuantity:u})}),Object(O.jsxs)("div",{className:"sub-total",children:[Object(O.jsx)("span",{className:"sub-total-title",children:"Subtotal :"}),Object(O.jsxs)("span",{className:"sub-total-price",children:["\u20ac ",parseFloat(a.price*j).toFixed(2)]})]}),Object(O.jsx)("div",{className:"add-to-cart","data-bs-dismiss":"offcanvas",children:Object(O.jsxs)("button",{onClick:function(){var e=Object(p.a)(r.cart),t=r.cart.findIndex((function(e){return e.id===a.id}));t>-1?j?e.splice(t,1,Object(v.a)(Object(v.a)({},a),{},{quantity:j})):e.splice(t,1):j&&e.push(Object(v.a)(Object(v.a)({},a),{},{quantity:j})),i(Object(v.a)(Object(v.a)({},r),{},{cart:e}))},children:[Object(O.jsx)("span",{className:"cart-button",children:Object(O.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"#887e7e",className:"bi bi-cart-plus",viewBox:"0 0 16 16",children:[Object(O.jsx)("path",{d:"M9 5.5a.5.5 0 0 0-1 0V7H6.5a.5.5 0 0 0 0 1H8v1.5a.5.5 0 0 0 1 0V8h1.5a.5.5 0 0 0 0-1H9V5.5z"}),Object(O.jsx)("path",{d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"})]})}),Object(O.jsx)("span",{className:"add-to-cart-text",children:"Add to Cart"})]})})]})},C=function(e){var t=e.items,a=void 0===t?[]:t,s=Object(c.useState)(null),n=Object(o.a)(s,2),r=n[0],i=n[1];return Object(O.jsxs)("div",{className:"items-container",children:[a.map((function(e){return Object(O.jsxs)("div",{className:"item","data-bs-toggle":"offcanvas","data-bs-target":"#itemsDrawer","aria-controls":"itemsDrawer",onClick:function(){return i(e)},children:[Object(O.jsx)("div",{className:"item-image",children:Object(O.jsx)("img",{src:e.imageUrl,alt:e.name})}),Object(O.jsx)("div",{className:"item-name",children:e.name}),Object(O.jsx)("div",{className:"item-price",children:"\u20ac ".concat(e.price," EUR")}),Object(O.jsx)("div",{className:"item-category",children:e.category})]},e.id)})),Object(O.jsx)(x,{position:"end",name:"itemsDrawer",children:r&&Object(O.jsx)(S,{item:r})})]})},k=Object(u.a)("pk_test_Yle4AOLnKeejMpFv0WzVsRdq00CbmvTuaS"),E=s.a.createContext({}),H=function(){return Object(c.useContext)(E)},M=function(e){var t=e.children,a=Object(c.useState)({cart:[]}),s=Object(o.a)(a,2),n=s[0],r=s[1],i=Object(c.useCallback)((function(e){r(e)}),[]);return Object(O.jsx)(E.Provider,{value:{store:n,setStoreData:i},children:t})},z=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),a=t[0],s=t[1];return Object(c.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:t=e.sent,s(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(O.jsx)(M,{children:Object(O.jsx)(j.Elements,{stripe:k,children:Object(O.jsx)(w,{onSearchResult:function(e){return s(e)},children:Object(O.jsx)(C,{items:a})})})})};r.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(z,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.9259d2fe.chunk.js.map