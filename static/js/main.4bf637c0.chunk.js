(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a(45)},26:function(e,t,a){},39:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(13),s=(a(26),a(4)),u=a(46),l=a(2),i=Object(n.createContext)(),o=a(19),m=a(3),d=a(14),f=a(15),b=a(16),v=a.n(b),E=(a(39),["hello","world","javascript","typescirpt","random","data","another random"].map(function(e,t){return{id:t,label:e}})),p=function(){function e(){Object(d.a)(this,e),this.id=v()("consumer_"),this.isBusy=!1,this.data=null}return Object(f.a)(e,[{key:"consume",value:function(e,t){var a=this;if(this.isBusy)throw new Error("Busy");this.isBusy=!0,this.data=e,setTimeout(function(){a.isBusy=!1,a.data=null,t(a)},1e3)}}]),e}(),j=function(){var e=Object(n.useState)(E),t=Object(s.a)(e,2),a=t[0],r=t[1],u=Object(n.useState)([{value:""}]),l=Object(s.a)(u,2),i=l[0],o=l[1],d=Object(n.useState)([new p]),f=Object(s.a)(d,2),b=f[0],v=f[1],j=function(e,t){var a=Object(m.a)(i);a.splice(e,1,{value:t}),o(a)};return Object(n.useEffect)(function(){var e=setInterval(function(){!function(){var e=Object(m.a)(a),t=e.shift(),n=b.findIndex(function(e){return!e.isBusy});if(t&&n>-1){var c=b[n];c.consume(t,function(e){var t=Object(m.a)(b),a=t.findIndex(function(t){return t.id===e.id});t.splice(a,1,c),v(t)});var s=Object(m.a)(b);s.splice(n,1,c),v(s),r(e)}}(),a.length||clearInterval(e)},500);return function(){return clearInterval(e)}},[a]),c.a.createElement("div",{className:"stream-demo"},c.a.createElement("div",{className:"producers"},c.a.createElement("button",{className:"add",onClick:function(){o(Object(m.a)(i).concat([{value:""}]))}},"+"),i.map(function(e,t){return c.a.createElement("div",{key:t,className:"producer"},c.a.createElement("span",{className:"name"},"P".concat(t+1)),c.a.createElement("input",{value:e.value,onChange:function(e){return j(t,e.target.value)},onKeyPress:function(e){var n,c;"Enter"===e.key&&(n=t,c=e.target.value,r(Object(m.a)(a).concat([{id:a.length+1,label:c}])),j(n,""))}}))})),c.a.createElement("div",{className:"storage"},a.map(function(e){return c.a.createElement("span",{key:e.id,className:"data"},e.label)})),c.a.createElement("div",{className:"consumers"},c.a.createElement("button",{className:"add",onClick:function(){v(Object(m.a)(b).concat([new p]))}},"+"),b.map(function(e,t){return c.a.createElement("div",{key:t,className:"consumer"},c.a.createElement("span",{className:e.isBusy?"name busy":"name"},e.isBusy&&c.a.createElement("i",{className:"fas fa-cog fa-spin"}),!e.isBusy&&c.a.createElement("i",{className:"fas fa-cog"})),e.data&&c.a.createElement("span",{className:"data"},e.data.label))})))},O=function(e){var t=e.children;return c.a.createElement("div",null,t)},h=function(e){var t=e.component,a=Object(o.a)(e,["component"]);return c.a.createElement(u.b,Object.assign({},a,{render:function(e){return c.a.createElement(O,null,c.a.createElement(t,e))}}))},y=Object(u.e)(function(){var e=function(){return c.a.createElement(u.a,{to:"/"})};return c.a.createElement(u.d,null,c.a.createElement(h,{exact:!0,path:"/",component:j}),c.a.createElement(u.b,{exact:!0,path:"/",render:e}),c.a.createElement(u.b,{exact:!0,path:"/login",render:e}),c.a.createElement(u.a,{to:"/"}))}),N=Object(l.a)();Object(r.render)(c.a.createElement(function(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],r=t[1];return c.a.createElement(i.Provider,{value:{store:a,setContext:r}},c.a.createElement(u.c,{history:N},c.a.createElement(y,null)))},null),document.getElementById("root"))}},[[21,2,1]]]);
//# sourceMappingURL=main.4bf637c0.chunk.js.map