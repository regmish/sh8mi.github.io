(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){e.exports=a(68)},32:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){},59:function(e,t,a){},61:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=(a(32),a(4)),s=a(69),o=a(3),m=r.a.createContext(),i=a(25),u=a(5),E=a.n(u),p=a(6),d=a(7),f=a.n(d),v=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-text"},r.a.createElement("span",null,"Contacts")),r.a.createElement("div",{className:"header-add-user"},r.a.createElement("i",{className:"fas fa-user-plus"})))},g=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"footer-item active"},r.a.createElement("i",{className:"fas fa-user-friends"}),r.a.createElement("span",{className:"text-center"},"Contacts")),r.a.createElement("div",{className:"footer-item"},r.a.createElement("i",{className:"fas fa-comment-alt"}),r.a.createElement("span",null,"Chats")),r.a.createElement("div",{className:"footer-item"},r.a.createElement("i",{className:"fas fa-cog"}),r.a.createElement("span",null,"Settings")))},h=(a(55),function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],s=function(){var e=Object(p.a)(E.a.mark(function e(){var t,a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("https://api.shankar.xyz/users",{headers:{Authorization:localStorage.getItem("TOKEN")}});case 2:t=e.sent,a=t.data,c(a);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return a.length||s(),r.a.createElement("div",{className:"sidebar"},r.a.createElement(v,null),r.a.createElement("div",{className:"user-list"},a.map(function(e,t){return r.a.createElement("div",{className:"user",key:t},r.a.createElement("div",{className:"profile-pic"},r.a.createElement("span",null,"".concat(e.firstName[0]," ").concat(e.lastName[0]))),r.a.createElement("div",{className:"user-detail"},r.a.createElement("span",{className:"username"},"".concat(e.firstName," ").concat(e.lastName)),r.a.createElement("span",{className:"last-seen"},"Seen a long time ago")),r.a.createElement("div",{className:"online-status"},t%2===0?r.a.createElement("div",{className:"online"}):r.a.createElement("div",{className:"offline"})))})),r.a.createElement(g,null))}),N=function(){return r.a.createElement("div",{className:"chat-header"},r.a.createElement("div",{className:"chatting-with"},r.a.createElement("span",null,"Bijay Regmi"),r.a.createElement("span",{className:"online-status"},"Active now")))},b=function(e){var t=e.msg;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement("p",{className:"sent"},t)))},w=function(e){var t=e.msg;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement("p",{className:"reply"},t)))},x=["Hello, welcome to simple Chat Application","It uses react's new hooks ","useState, useContext, useEffect","try typing some text in chat box and hit Enter","it will automatically update the conversation box","try sending some messages randomly","isn't is so cool??","please visit https://github.com/shankarregmi"],y=function(){return r.a.createElement("div",{className:"conversation"},r.a.createElement("ul",null,x.map(function(e,t){return t%2===0?r.a.createElement(b,{msg:e,key:t}):r.a.createElement(w,{msg:e,key:t})})))},O=function(){return r.a.createElement("div",{className:"no-chat-selected"},"Please select a chat to start messaging")},j=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:"msg-form"},r.a.createElement("input",{className:"form-control",value:a,onChange:function(e){var t=e.target.value;return c(t)},onKeyPress:function(e){"Enter"===e.key&&(console.log(a),c(""),function(){var e=document.getElementById("root");e.scrollTo({top:e.scrollHeight,behavior:"smooth"})}())}}))},S=(a(57),function(e){var t=e.conversationSelected,a=void 0===t||t;return r.a.createElement("div",{className:"chat"},r.a.createElement(N,null),a?r.a.createElement(y,null):r.a.createElement(O,null),r.a.createElement(j,null))}),k=(a(59),function(){return r.a.createElement("div",{className:"main"},r.a.createElement(h,null),r.a.createElement(S,null))}),C=a(8),I=a(22),R=(a(61),function(e,t){var a=Object(n.useState)({error:!1,username:"",password:""}),c=Object(l.a)(a,2),s=c[0],o=c[1],m=function(e){var t=e.target;o(Object(I.a)({},s,Object(C.a)({},t.name,t.value)))},i=function(){var e=Object(p.a)(E.a.mark(function e(t){var a,n,r,c;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=s.username,n=s.password,e.prev=2,e.next=5,f.a.post("https://api.shankar.xyz/auth/login",{username:a,password:n});case 5:r=e.sent,(c=r.data)&&c.token&&(localStorage.setItem("USERNAME",c.username),localStorage.setItem("TOKEN",c.token),K.push("/")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("ERROR",e.t0.message);case 13:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:i},r.a.createElement("div",{className:"login-container"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",{className:"heading"},"Login")),r.a.createElement("input",{type:"text",className:"form-control col-sm-9",name:"username",id:"username",value:s.username,onChange:m,required:!0}),r.a.createElement("input",{type:"password",className:"form-control col-sm-9",name:"password",id:"password",value:s.password,onChange:m,required:!0}),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{type:"submit",className:"btn login-btn"},"Login"))))}),A=function(){return localStorage.getItem("USERNAME")},z=function(e){var t=e.component,a=Object(i.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},a,{render:function(e){return A()?r.a.createElement(t,e):r.a.createElement(s.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},B=Object(s.e)(function(){return r.a.createElement(s.d,null,r.a.createElement(z,{component:k,exact:!0,path:"/"}),r.a.createElement(s.b,{exact:!0,path:"/",render:function(){return A()?r.a.createElement(s.a,{to:"/"}):r.a.createElement(s.a,{to:"/login"})}}),r.a.createElement(s.b,{exact:!0,path:"/login",render:function(){return A()?r.a.createElement(s.a,{to:"/"}):r.a.createElement(s.b,{path:"/login",component:R})}}),r.a.createElement(s.a,{to:"/"}))}),K=Object(o.a)();Object(c.render)(r.a.createElement(function(){var e=localStorage.getItem("USERNAME"),t=Object(n.useState)({username:e}),a=Object(l.a)(t,2),c=a[0],o=a[1];return r.a.createElement(m.Provider,{value:{store:c,setContext:o}},r.a.createElement(s.c,{history:K},r.a.createElement(B,null)))},null),document.getElementById("root"))}},[[27,2,1]]]);
//# sourceMappingURL=main.490bec0e.chunk.js.map