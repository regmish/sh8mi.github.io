{"version":3,"sources":["store.js","pages/main/Main.jsx","pages/login/Login.jsx","utils/api.js","pages/register/Register.jsx","Routes.jsx","App.jsx","index.js"],"names":["createContext","Main","react_default","a","createElement","Login","props","context","_useState","useState","error","username","get","password","_useState2","Object","slicedToArray","state","setState","inputChanged","_ref","_objectSpread2","target","objectSpread","defineProperty","name","value","login","_ref2","asyncToGenerator","regenerator_default","mark","_callee","event","wrap","_context","prev","next","preventDefault","localStorage","setItem","history","push","message","stop","this","_x","apply","arguments","onSubmit","className","type","id","onChange","required","href","API_URL","process","headers","getItem","api","endpoint","data","console","log","concat","axios","post","then","response","lodashGet","catch","Register","firstName","lastName","email","register","API","sent","AppHistory","t0","placeholder","isLoggedIn","PrivateRoute","Component","component","rest","objectWithoutProperties","react_router","assign","render","to","pathname","from","location","withRouter","Routes_PrivateRoute","exact","path","createBrowserHistory","store","setContext","src_store","Provider","src_Routes","document","getElementById"],"mappings":"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","file":"static/js/main.6caeb42d.chunk.js","sourcesContent":["import { createContext } from 'react';\n\n\n\nexport default createContext();\n","import React from 'react';\n\nexport default () => {\n  return <h1>Hello</h1>\n};\n","import React, { useState } from 'react';\nimport get from 'lodash/get';\n\n// import API from '../../utils/api';\nimport './login.scss';\n\nexport default (props, context) => {\n  const [state, setState] = useState({\n    error: false,\n    username: get(props, 'location.state.username', ''),\n    password: ''\n  });\n  const inputChanged = ({ target }) => {\n    setState({\n      ...state,\n      [target.name]: target.value,\n      error: ''\n    });\n  }\n\n  const login = async (event) => {\n    event.preventDefault();\n    const { username, password } = state;\n    try {\n      if (username === 'admin' && password === 'admin') {\n        localStorage.setItem('TOKEN', 'SHANKARREGMI.GITHUB.IO');\n        props.history.push('/');\n      }\n      // const data = await API.post('auth/login', {\n      //   username,\n      //   password\n      // });\n      // if (data && data.token) {\n      // }\n    } catch (error) {\n      setState({\n        ...state,\n        error: error.message\n      });\n    }\n  }\n  return (\n    <form onSubmit={login}>\n      <div className=\"login-container\">\n        <div className=\"text-center\">\n          <h2 className=\"heading\">Login</h2>\n        </div>\n        <div className={\"text-center error-text \" + (!state.error ? 'visibility-hidden': '')}>\n          <span>{state.error}</span>\n        </div>\n        <input type=\"text\" className=\"form-control col-sm-9\" name=\"username\" id=\"username\" value={state.username} onChange={inputChanged} required />\n        <input type=\"password\" className=\"form-control col-sm-9\" name=\"password\" id=\"password\" value={state.password} onChange={inputChanged} required />\n\n        <div className=\"text-center\">\n          <button type=\"submit\" className=\"btn login-btn\">Login</button>\n        </div>\n        <div className=\"text-center signup-text\">\n          <span>Don't have an account yet? <a href=\"/register\">Create here</a></span>\n        </div>\n      </div>\n    </form>\n  );\n}\n","import axios from 'axios';\nimport { get as lodashGet } from 'lodash';\nconst API_URL = process.env.REACT_APP_API || 'http://localhost:3030';\n\nconst headers = () => {\n  const headers = {};\n\n  if (localStorage.getItem('TOKEN')) headers['Authorization'] = localStorage.getItem('TOKEN');\n\n  return headers;\n\n}\n\nexport const post = (endpoint, data) => {\n  console.log(`POST /${endpoint}`);\n  return axios.post(`${API_URL}/${endpoint}`, data, { headers: headers() })\n    .then(response => {\n      if (lodashGet(response, 'data.status') === 'OK') {\n        return lodashGet(response, 'data.data');\n      }\n      return null;\n    }).catch(error => {\n      const err = lodashGet(error, 'response.data.error', {message: 'Unknown Error !!'});\n      throw err;\n    });\n};\n\nexport const get = (endpoint) => {\n  console.log(`GET /${endpoint}`);\n  return axios.get(`${API_URL}/${endpoint}`, { headers: headers() })\n    .then(response => {\n      if (lodashGet(response, 'data.status') === 'OK') {\n        return lodashGet(response, 'data.data');\n      }\n      return null;\n    }).catch(error => {\n      const err = lodashGet(error, 'response.data.error', {message: 'Unknown Error !!'});\n      throw err;\n    });\n};\n\nexport default {\n  get,\n  post\n};\n","import React, { useState } from 'react';\n\nimport API from '../../utils/api';\nimport { AppHistory } from '../../App';\n\nexport default (props, context) => {\n  const [state, setState] = useState({\n    error: '',\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: ''\n  });\n  const inputChanged = ({ target }) => {\n    setState({\n      ...state,\n      [target.name]: target.value,\n      error: ''\n    });\n  }\n\n  const register = async (event) => {\n    event.preventDefault();\n    const { firstName, lastName, email, password } = state;\n    try {\n      const data = await API.post('auth/register', {\n        firstName,\n        lastName,\n        email,\n        password\n      });\n      AppHistory.push('/login', {username: data.username});\n    } catch (error) {\n      setState({\n        ...state,\n        error: error.message\n      });\n    }\n  }\n  return (\n    <form onSubmit={register}>\n      <div className=\"login-container\">\n        <div className=\"text-center\">\n          <h2 className=\"heading\">Signup</h2>\n        </div>\n        <div className={\"text-center error-text \" + (!state.error ? 'visibility-hidden': '')}>\n          <span>{state.error}</span>\n        </div>\n        <input type=\"text\" className=\"form-control col-sm-9\" placeholder=\"First Name\" name=\"firstName\" id=\"firstName\" value={state.firstName} onChange={inputChanged} required />\n        <input type=\"text\" className=\"form-control col-sm-9\" placeholder=\"Last Name\" name=\"lastName\" id=\"lastName\" value={state.lastName} onChange={inputChanged} required />\n        <input type=\"text\" className=\"form-control col-sm-9\" placeholder=\"Email\" name=\"email\" id=\"email\" value={state.email} onChange={inputChanged} required />\n        <input type=\"password\" className=\"form-control col-sm-9\" placeholder=\"Password\" name=\"password\" id=\"password\" value={state.password} onChange={inputChanged} required />\n\n        <div className=\"text-center\">\n          <button type=\"submit\" className=\"btn login-btn\">Sign up</button>\n        </div>\n      </div>\n    </form>\n  );\n}\n","import React from 'react';\nimport { Route, Switch, withRouter, Redirect,  } from 'react-router-dom';\n\nimport { Main, Login, Register } from './pages';\n\nconst isLoggedIn = () => localStorage.getItem('TOKEN');\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        isLoggedIn() ? (\n          <Component {...props} />\n        ) : (\n            <Redirect\n              to={{\n                pathname: '/login',\n                state: { from: props.location }\n              }}\n            />\n          )\n      }\n    />\n  );\n};\n\nconst Routes = () => {\n  return (\n      <Switch>\n        <PrivateRoute component={Main} exact path='/' />\n        <Route exact path='/' render={() => (\n          isLoggedIn() ? (\n            <Redirect to='/' />\n          ) : (\n              <Redirect to='/login' />\n            )\n        )} />\n        <Route exact path='/login' render={() => (\n          isLoggedIn() ? (\n            <Redirect to='/' />\n          ) : (\n              <Route path='/login' component={Login} />\n            )\n        )} />\n        <Route exact path='/register' component={Register} />\n        <Redirect to='/'/>\n      </Switch>\n  );\n};\n\nexport default withRouter(Routes);\n","import React, { useState } from 'react';\nimport { Router } from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\n\nimport StoreContext from './store';\nimport Routes from './Routes';\n\nexport const AppHistory = createBrowserHistory();\n\nexport default () => {\n\n\tconst [store, setContext] = useState({});\n\treturn (\n\t\t<StoreContext.Provider value={{store, setContext}}>\n\t\t\t<Router history={AppHistory}>\n        <Routes/>\n      </Router>\n\t\t</StoreContext.Provider>\n\t);\n}\n","import React from 'react';\nimport { render } from 'react-dom';\n\nimport './index.scss';\nimport App from './App';\n\nrender(<App />, document.getElementById('root'));\n"],"sourceRoot":""}