{"version":3,"sources":["components/Sidebar/FriendsList.jsx"],"names":["__webpack_exports__","_useContext","useContext","Store","store","setContext","get","user","channels","friends","loadConversation","_ref","Object","_home_circleci_application_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_home_circleci_application_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","mark","_callee","friend","channel","wrap","_context","prev","next","find","ch","participants","map","type","includes","_id","_home_circleci_application_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","activeChannel","stop","this","_x","apply","arguments","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","className","id","key","onClick","concat","firstName","lastName"],"mappings":"kKAMeA,EAAA,mBAAM,IAAAC,EACWC,qBAAWC,KAAjCC,EADWH,EACXG,MAAOC,EADIJ,EACJI,WAEf,IAAKC,cAAIF,EAAO,QAAS,OAAO,KAHb,IAKXG,EAAmBH,EAAnBG,KAAMC,EAAaJ,EAAbI,SACRC,EAAUF,EAAKE,SAAW,GAE1BC,EAAgB,eAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAAC,EAAAC,KAAG,SAAAC,EAAOC,GAAP,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,QACjBJ,EAAUK,eAAKhB,EAAU,SAAAiB,GAC7B,IAAMC,EAAeC,cAAIrB,cAAImB,EAAI,gBAAiB,OAClD,MAAmB,YAAZA,EAAGG,MAAsBF,EAAaG,SAASX,EAAOY,MAAQJ,EAAaG,SAAStB,EAAKuB,SAIhGzB,EAAWO,OAAAmB,EAAA,EAAAnB,CAAA,GACNR,EADK,CAER4B,cAAeb,KATI,wBAAAE,EAAAY,SAAAhB,EAAAiB,SAAH,gBAAAC,GAAA,OAAAxB,EAAAyB,MAAAF,KAAAG,YAAA,GAgBtB,OACEC,EAAAvB,EAAAwB,cAAA,OAAKC,UAAU,eAEb/B,EAAQkB,IAAI,SAACT,EAAQuB,GAAT,OAAgBH,EAAAvB,EAAAwB,cAAA,OAAKC,UAAU,OAAOE,IAAKD,EAAIE,QAAS,kBAAMjC,EAAiBQ,KACzFoB,EAAAvB,EAAAwB,cAAA,OAAKC,UAAU,eACbF,EAAAvB,EAAAwB,cAAA,eAAAK,OAAU1B,EAAO2B,UAAU,GAA3B,KAAAD,OAAiC1B,EAAO4B,SAAS,MAEnDR,EAAAvB,EAAAwB,cAAA,OAAKC,UAAU,eACbF,EAAAvB,EAAAwB,cAAA,QAAMC,UAAU,YAAhB,GAAAI,OAA+B1B,EAAO2B,UAAtC,KAAAD,OAAmD1B,EAAO4B,WAC1DR,EAAAvB,EAAAwB,cAAA,QAAMC,UAAU,aAAhB,yBAEFF,EAAAvB,EAAAwB,cAAA,OAAKC,UAAU,iBAEXC,EAAK,IAAM,EACTH,EAAAvB,EAAAwB,cAAA,OAAKC,UAAU,WACfF,EAAAvB,EAAAwB,cAAA,OAAKC,UAAU","file":"static/js/15.3be1daad.chunk.js","sourcesContent":["import React, { useContext } from 'react';\nimport { find, get, map } from 'lodash';\n\nimport Store from '../../store';\n// import API from '../../utils/api';\n\nexport default () => {\n  const { store, setContext } = useContext(Store);\n\n  if (!get(store, 'user')) return null;\n\n  const { user, channels } = store;\n  const friends = user.friends || [];\n\n  const loadConversation = async (friend) => {\n    const channel = find(channels, ch => {\n      const participants = map(get(ch, 'participants'), '_id');\n      return ch.type === 'PRIVATE' && participants.includes(friend._id) && participants.includes(user._id);\n    });\n\n    if (channel) {\n      setContext({\n        ...store,\n        activeChannel: channel\n      });\n    //   const messages = await API.get(`channels/${channel._id}/messages`);\n    //   messages.forEach(m => console.log(m.content))\n    }\n  };\n\n  return (\n    <div className=\"friend-list\">\n    {\n      friends.map((friend, id) => <div className=\"user\" key={id} onClick={() => loadConversation(friend)}>\n        <div className=\"profile-pic\">\n          <span>{`${friend.firstName[0]} ${friend.lastName[0]}`}</span>\n        </div>\n        <div className=\"user-detail\">\n          <span className=\"username\">{`${friend.firstName} ${friend.lastName}`}</span>\n          <span className=\"last-seen\">Seen a long time ago</span>\n        </div>\n        <div className=\"online-status\">\n          {\n            id % 2 === 0 ?\n              <div className=\"online\"></div> :\n              <div className=\"offline\"></div>\n          }\n        </div>\n      </div>)\n    }\n  </div>\n  );\n}\n\n"],"sourceRoot":""}