(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,a){},109:function(e,t,a){},111:function(e,t,a){},113:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(46),s=(a(57),a(6)),l=a(2),o=a(120),i=a(4),m={API_URL:"https://api.shankar.xyz"},u=Object(n.createContext)(),d=a(50),E=a(47),p=a.n(E),v=a(5),f=a.n(v),g=a(10),h=a(11),b=a.n(h),N=function(e){var t=e.activeTab;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-text"},r.a.createElement("span",null,t)),r.a.createElement("div",{className:"header-add-user"},r.a.createElement("i",{className:"fas fa-user-plus"})))},x=function(e){var t=e.activeTab,a=e.setActiveTab;return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"footer-item ".concat("Contacts"===t?"active":""),onClick:function(){return a("Contacts")}},r.a.createElement("i",{className:"fas fa-user-friends"}),r.a.createElement("span",{className:"text-center"},"Contacts")),r.a.createElement("div",{className:"footer-item ".concat("Chats"===t?"active":""),onClick:function(){return a("Chats")}},r.a.createElement("i",{className:"fas fa-comment-alt"}),r.a.createElement("span",null,"Chats")),r.a.createElement("div",{className:"footer-item ".concat("Settings"===t?"active":""),onClick:function(){return a("Settings")}},r.a.createElement("i",{className:"fas fa-cog"}),r.a.createElement("span",null,"Settings")))},y=function(e){var t=e.friends,a=void 0===t?[]:t,c=(e.activeFriend,e.setActiveFriend),l=Object(n.useContext)(u),o=l.store,i=l.setContext;return r.a.createElement("div",{className:"friend-list"},a.map(function(e,t){return r.a.createElement("div",{className:"user",key:t,onClick:function(){c(e),i(Object(s.a)({},o,{activeFriend:e}))}},r.a.createElement("div",{className:"profile-pic"},r.a.createElement("span",null,"".concat(e.firstName[0]," ").concat(e.lastName[0]))),r.a.createElement("div",{className:"user-detail"},r.a.createElement("span",{className:"username"},"".concat(e.firstName," ").concat(e.lastName)),r.a.createElement("span",{className:"last-seen"},"Seen a long time ago")),r.a.createElement("div",{className:"online-status"},t%2===0?r.a.createElement("div",{className:"online"}):r.a.createElement("div",{className:"offline"})))}))},w=function(){return r.a.createElement("h4",null,"Not Impelented !!")},O=function(e){var t=e.logout;return r.a.createElement("div",{className:"settings"},r.a.createElement("div",{className:"header-text"},r.a.createElement("span",null,"My Account")),r.a.createElement("div",{className:"settings-menu"},r.a.createElement("div",{className:"menu-item edit-profile"},r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-user"}),r.a.createElement("span",null,"Edit Profile"))),r.a.createElement("div",{className:"menu-item change-password"},r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-key"}),r.a.createElement("span",null,"Change Password"))),r.a.createElement("div",{className:"menu-item logout",onClick:t},r.a.createElement("div",null,r.a.createElement("i",{className:"fas fa-sign-out-alt"}),r.a.createElement("span",null,"Logout")))))},C=(a(107),function(){var e=Object(n.useContext)(u).store,t=Object(n.useState)("Contacts"),a=Object(l.a)(t,2),c=a[0],s=a[1],o=Object(n.useState)({}),i=Object(l.a)(o,2),m=i[0],d=i[1],E=Object(n.useState)({}),p=Object(l.a)(E,2),v=p[0],h=p[1],C=function(){var t=Object(g.a)(f.a.mark(function t(){var a,n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("".concat(e.API_URL,"/users"),{headers:{Authorization:localStorage.getItem("TOKEN")}});case 2:a=t.sent,n=a.data,h(n[0]);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}();Object.keys(v).length||C();return r.a.createElement("div",{className:"sidebar"},r.a.createElement(N,{activeTab:c}),r.a.createElement("div",{className:"sidebar-dynamic-content"},"Contacts"===c&&r.a.createElement(y,{friends:v.friends,activeFriend:m,setActiveFriend:d}),"Chats"===c&&r.a.createElement(w,{friend:m}),"Settings"===c&&r.a.createElement(O,{logout:function(){localStorage.clear(),window.location.reload()}})),r.a.createElement(x,{setActiveTab:s,activeTab:c}))}),j=function(e){var t=e.activeFriend,a=void 0===t?{}:t,n=a.firstName,c=a.lastName;return r.a.createElement("div",{className:"chat-header"},r.a.createElement("div",{className:"chatting-with"},r.a.createElement("span",null,"".concat(n," ").concat(c)),r.a.createElement("span",{className:"online-status"},"Active now")))},k=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:"msg-form"},r.a.createElement("input",{className:"form-control",value:a,onChange:function(e){var t=e.target.value;return c(t)},onKeyPress:function(e){"Enter"===e.key&&(console.log(a),c(""),function(){var e=document.getElementById("root");e.scrollTo({top:e.scrollHeight,behavior:"smooth"})}())}}))},S=function(e){var t=e.msg;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement("p",{className:"sent"},t)))},A=function(e){var t=e.msg;return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement("p",{className:"reply"},t)))},I=["Hello, welcome to simple Chat Application","It uses react's new hooks ","useState, useContext, useEffect","try typing some text in chat box and hit Enter","it will automatically update the conversation box","try sending some messages randomly","isn't is so cool??","please visit https://github.com/shankarregmi","Hello, welcome to simple Chat Application","It uses react's new hooks ","useState, useContext, useEffect","try typing some text in chat box and hit Enter","it will automatically update the conversation box","try sending some messages randomly","isn't is so cool??","please visit https://github.com/shankarregmi","Hello, welcome to simple Chat Application","It uses react's new hooks ","useState, useContext, useEffect","try typing some text in chat box and hit Enter","it will automatically update the conversation box","try sending some messages randomly","isn't is so cool??","please visit https://github.com/shankarregmi","Hello, welcome to simple Chat Application","It uses react's new hooks ","useState, useContext, useEffect","try typing some text in chat box and hit Enter","it will automatically update the conversation box","try sending some messages randomly","isn't is so cool??","please visit https://github.com/shankarregmi"],F=function(e){var t=e.activeFriend;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{activeFriend:t}),r.a.createElement("div",{className:"conversation"},r.a.createElement("ul",null,I.map(function(e,t){return t%2===0?r.a.createElement(S,{msg:e,key:t}):r.a.createElement(A,{msg:e,key:t})}))),r.a.createElement(k,null))},R=function(){return r.a.createElement("div",{className:"no-chat-selected"},"Please select a chat to start messaging")},T=(a(109),function(){var e=Object(n.useContext)(u).store;return r.a.createElement("div",{className:"chat"},e.activeFriend?r.a.createElement(F,{activeFriend:e.activeFriend}):r.a.createElement(R,null))}),P=(a(111),function(){return p.a.connect("https://api.shankar.xyz",{transports:["websocket"],query:{Authorization:localStorage.getItem("TOKEN")}}),r.a.createElement("div",{className:"main"},r.a.createElement(C,null),r.a.createElement(T,null))}),L=a(9),U=(a(113),function(e,t){var a=Object(n.useContext)(u).store,c=Object(n.useState)({error:!1,username:"",password:""}),o=Object(l.a)(c,2),i=o[0],m=o[1],d=function(e){var t=e.target;m(Object(s.a)({},i,Object(L.a)({},t.name,t.value)))},E=function(){var e=Object(g.a)(f.a.mark(function e(t){var n,r,c,s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=i.username,r=i.password,e.prev=2,e.next=5,b.a.post("".concat(a.API_URL,"/auth/login"),{username:n,password:r});case 5:c=e.sent,(s=c.data)&&s.token&&(localStorage.setItem("USERNAME",s.username),localStorage.setItem("TOKEN",s.token),M.push("/")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("ERROR",e.t0.message);case 13:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:E},r.a.createElement("div",{className:"login-container"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",{className:"heading"},"Login")),r.a.createElement("input",{type:"text",className:"form-control col-sm-9",name:"username",id:"username",value:i.username,onChange:d,required:!0}),r.a.createElement("input",{type:"password",className:"form-control col-sm-9",name:"password",id:"password",value:i.password,onChange:d,required:!0}),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{type:"submit",className:"btn login-btn"},"Login"))))}),q=function(e,t){var a=Object(n.useState)({error:!1,username:"",password:""}),c=Object(l.a)(a,2),o=c[0],i=c[1],m=function(e){var t=e.target;i(Object(s.a)({},o,Object(L.a)({},t.name,t.value)))},u=function(){var e=Object(g.a)(f.a.mark(function e(t){var a,n,r,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=o.username,n=o.password,e.prev=2,e.next=5,b.a.post("https://api.shankar.xyz/auth/login",{username:a,password:n});case 5:r=e.sent,(c=r.data)&&c.token&&(localStorage.setItem("USERNAME",c.username),localStorage.setItem("TOKEN",c.token),M.push("/")),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("ERROR",e.t0.message);case 13:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:u},r.a.createElement("div",{className:"login-container"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",{className:"heading"},"Signup")),r.a.createElement("input",{type:"text",className:"form-control col-sm-9",name:"username",id:"username",value:o.username,onChange:m,required:!0}),r.a.createElement("input",{type:"password",className:"form-control col-sm-9",name:"password",id:"password",value:o.password,onChange:m,required:!0}),r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{type:"submit",className:"btn login-btn"},"Login"))))},z=function(){return localStorage.getItem("USERNAME")},H=function(e){var t=e.component,a=Object(d.a)(e,["component"]);return r.a.createElement(o.b,Object.assign({},a,{render:function(e){return z()?r.a.createElement(t,e):r.a.createElement(o.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},K=Object(o.e)(function(){return r.a.createElement(o.d,null,r.a.createElement(H,{component:P,exact:!0,path:"/"}),r.a.createElement(o.b,{exact:!0,path:"/",render:function(){return z()?r.a.createElement(o.a,{to:"/"}):r.a.createElement(o.a,{to:"/login"})}}),r.a.createElement(o.b,{exact:!0,path:"/login",render:function(){return z()?r.a.createElement(o.a,{to:"/"}):r.a.createElement(o.b,{path:"/login",component:U})}}),r.a.createElement(o.b,{exact:!0,path:"/register",component:q}),r.a.createElement(o.a,{to:"/"}))}),M=Object(i.a)();Object(c.render)(r.a.createElement(function(){var e=localStorage.getItem("USERNAME"),t=Object(n.useState)(Object(s.a)({},m,{username:e})),a=Object(l.a)(t,2),c=a[0],i=a[1];return r.a.createElement(u.Provider,{value:{store:c,setContext:i}},r.a.createElement(o.c,{history:M},r.a.createElement(K,null)))},null),document.getElementById("root"))},52:function(e,t,a){e.exports=a(119)},57:function(e,t,a){},84:function(e,t){}},[[52,2,1]]]);
//# sourceMappingURL=main.ed961080.chunk.js.map