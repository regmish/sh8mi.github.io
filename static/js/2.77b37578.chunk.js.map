{"version":3,"sources":["components/index.js","components/Chat/ChatHeader.jsx","components/Chat/MsgForm.jsx","components/Chat/Conversation.jsx","components/Chat/NoChatSelected.jsx","components/Chat/Chat.jsx","components/Menu/Menu.jsx","components/Sidebar/Sidebar.jsx"],"names":["__webpack_require__","r","__webpack_exports__","_Sidebar_Sidebar__WEBPACK_IMPORTED_MODULE_0__","d","_Chat_Chat__WEBPACK_IMPORTED_MODULE_1__","_Menu_Menu__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_ref","_ref$friend","friend","firstName","lastName","a","createElement","className","concat","send","_useState","useState","_useState2","Object","_home_circleci_application_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","msg","setState","react__WEBPACK_IMPORTED_MODULE_1___default","value","onChange","_ref2","target","onKeyPress","event","key","conversations","document","getElementsByClassName","scrollTo","top","scrollHeight","behavior","scrollBottom","Sent","react__WEBPACK_IMPORTED_MODULE_3___default","Fragment","content","Replies","store","useContext","Store","user","activeChannel","_home_circleci_application_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","messages","setMessages","participants","find","p","_id","IO","Socket","useEffect","_home_circleci_application_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_home_circleci_application_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","mark","_callee","wrap","_context","prev","next","API","get","sent","emit","channel","on","data","from","push","stop","this","_ChatHeader__WEBPACK_IMPORTED_MODULE_6__","map","id","_MsgForm__WEBPACK_IMPORTED_MODULE_7__","_store__WEBPACK_IMPORTED_MODULE_1__","_Conversation__WEBPACK_IMPORTED_MODULE_2__","_NoChatSelected__WEBPACK_IMPORTED_MODULE_3__","onClick","localStorage","clear","window","location","reload","TYPE","Folder","_ref$folder","folder","_ref$depth","depth","subFolders","folders","expand","setExpand","style","paddingLeft","title","type"],"mappings":"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","file":"static/js/2.77b37578.chunk.js","sourcesContent":["import Sidebar from './Sidebar/Sidebar';\nimport Chat from './Chat/Chat';\nimport Menu from './Menu/Menu';\n\nexport {\n  Chat,\n  Sidebar,\n  Menu,\n};\n","import React from 'react';\n\nexport default ({ friend = {} }) => {\n  const { firstName, lastName } = friend;\n  return <div className='chat-header'>\n    <div className='chatting-with'>\n      <span>{`${firstName} ${lastName}`}</span>\n      <span className=\"online-status\">Active now</span>\n  </div>\n  </div>\n}\n","import React, { useState } from 'react';\n\n// import Store from '../../store';\n\nconst scrollBottom = () => {\n\tconst conversations = document.getElementsByClassName('conversation')[0];\n\tconversations.scrollTo({\n\t\ttop: conversations.scrollHeight,\n\t\tbehavior: 'smooth',\n\t});\n};\nexport default ({ send }) => {\n\t// const { store, setContext } = useContext(Store);\n\tconst [msg, setState] = useState('');\n\n  const inputChanged = ({ target: { value } }) => setState(value);\n\n\tconst _send = (event) => {\n\t\tif (event.key === 'Enter') {\n      send(msg);\n\t\t\tsetState('');\n\t\t\tscrollBottom();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"msg-form\">\n      <input className=\"form-control\" value={msg} onChange={inputChanged} onKeyPress={_send}></input>\n    </div>\n\t)\n}\n","import React, { useContext, useEffect, useState } from 'react';\n\nimport Store from '../../store';\nimport API from '../../utils/api';\n\nimport ChatHeader from './ChatHeader';\nimport MsgForm from './MsgForm';\n\nconst Sent = ({ msg }) => {\n  return (\n    <React.Fragment>\n      <li>\n        <p className=\"sent\">{msg.content}</p>\n      </li>\n    </React.Fragment>\n  )\n};\n\nconst Replies = ({ msg }) => {\n  return (\n    <React.Fragment>\n      <li>\n        <p className=\"reply\">{msg.content}</p>\n      </li>\n    </React.Fragment>\n  )\n};\n\n\nexport default () => {\n  const { store } = useContext(Store);\n  const { user, activeChannel } = store;\n  const [messages, setMessages] = useState([]);\n\n  const friend = activeChannel.participants.find(p => p._id !== user._id);\n  const IO = store.Socket;\n\n  useEffect(async () => {\n    // active channel changed, subscribe to channel and receive all messages\n    const messages = await API.get(`channels/${activeChannel._id}/messages`);\n    IO.emit('join_private_channel', { channel: activeChannel._id });\n    setMessages(messages);\n\n    IO.on('receive_message', (data) => {\n      // only update state if message received is from active channel user\n      if (data.from === friend._id) {\n        messages.push({ content: data.content });\n        setMessages(messages);\n      }\n    });\n  }, [activeChannel._id]);\n\n  const sendMessage = msg => {\n    messages.push({\n      content: msg,\n      from: user._id,\n      channel: activeChannel._id\n    });\n    setMessages(messages);\n    IO.emit('send_message', { content: msg, channel: activeChannel._id });\n  };\n  return (\n    <React.Fragment>\n      <ChatHeader friend={friend} />\n      <div className=\"conversation\">\n        <ul>\n          {messages.map((msg, id) => <React.Fragment key={id}>\n            {\n              msg.from === user._id ? <Sent msg={msg} /> : <Replies msg={msg} />\n            }\n          </React.Fragment>)}\n        </ul>\n      </div>\n      <MsgForm send={sendMessage} />\n    </React.Fragment>\n  )\n}\n","import React from 'react';\n\nexport default () => {\n  return <div className=\"no-chat-selected\">\n      Please select a chat to start messaging\n    </div>\n}\n","import React, { useContext } from 'react';\n\nimport Store from '../../store';\n\nimport Conversation from './Conversation';\nimport NoChatSelected from './NoChatSelected';\n\nimport './chat.scss';\n\nexport default () => {\n  const { store } = useContext(Store);\n\n  return <div className=\"chat\">\n    {\n      store.activeChannel ? <Conversation /> : <NoChatSelected/>\n    }\n  </div>\n}\n","import React from 'react';\n\nimport './menu.scss';\n\nexport default () => {\n  return <div className=\"menu\">\n    <i className=\"fas fa-bars float-right\" onClick={() => {\n      localStorage.clear();\n      window.location.reload();\n    }}></i>\n  </div>\n}\n","import React, { useState } from \"react\";\nimport './sidebar.scss';\n\nconst TYPE = {\n  FOLDER: \"FOLDER\",\n  FILE: \"FILE\"\n};\n\nconst Folder = ({ folder = {}, depth = 0 }) => {\n  const subFolders = folder.folders;\n  const [expand, setExpand] = useState(false);\n  return (\n    <div style={{ paddingLeft: `${depth * 12}px` }}>\n      <div className=\"folder\" onClick={() => setExpand(!expand)}>\n        {!expand ? (\n          <i className=\"fas fa-folder\" />\n        ) : (\n          <i className=\"fas fa-folder-open\" />\n        )}\n        <span className=\"title\">{folder.title}</span>\n      </div>\n      {subFolders &&\n        expand &&\n        subFolders.map(folder => <Folder key={folder.id} folder={folder} depth={depth+1} />)}\n    </div>\n  );\n};\n\nexport default () => {\n  const folders = [\n    {\n      id: \"movies\",\n      type: TYPE.FOLDER,\n      title: \"Movies\",\n      folders: [\n        {\n          id: \"gameofthrones\",\n          type: TYPE.FOLDER,\n          title: \"Game of Thrones\",\n          folders: [\n            {\n              id: \"season01\",\n              type: TYPE.FOLDER,\n              title: \"Season 01\",\n              folders: [\n                {\n                  id: \"episode01\",\n                  type: TYPE.FOLDER,\n                  title: \"Episode 01\"\n                },\n                {\n                  id: \"episode02\",\n                  type: TYPE.FOLDER,\n                  title: \"Episode 02\"\n                },\n                {\n                  id: \"episode03\",\n                  type: TYPE.FOLDER,\n                  title: \"Eeason 03\"\n                }\n              ]\n            },\n            {\n              id: \"season02\",\n              type: TYPE.FOLDER,\n              title: \"Season 02\"\n            },\n            {\n              id: \"season03\",\n              type: TYPE.FOLDER,\n              title: \"Season 03\"\n            }\n          ]\n        },\n        {\n          id: \"vikings\",\n          type: TYPE.FOLDER,\n          title: \"Vikings\"\n        },\n        {\n          id: \"thedarkKnightRises\",\n          type: TYPE.FOLDER,\n          title: \"Dark Knight Rises\",\n          folders: [\n            {\n              id: \"season01\",\n              type: TYPE.FOLDER,\n              title: \"Dark Knigth Rises I\",\n              folders: [\n                {\n                  id: \"part01\",\n                  type: TYPE.FOLDER,\n                  title: \"Dark Knigth Rises I - First Half\"\n                },\n                {\n                  id: \"part02\",\n                  type: TYPE.FOLDER,\n                  title: \"Dark Knigth Rises I - Second Half\"\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }\n  ];\n\n  return (\n    <div className=\"folder-structure\">\n      <div className=\"sidebar\">{folders.map(folder => <Folder key={folder.id} folder={folder} depth={0} />)}</div>\n      <div className=\"content\"></div>\n    </div>\n  );\n};\n"],"sourceRoot":""}