(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(34)},25:function(e,t,a){},28:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);for(var n=a(0),c=a.n(n),r=a(13),s=(a(25),a(4)),u=a(35),i=a(2),l=Object(n.createContext)(),o=a(18),m=a(5),f=a(14),d=a(15),b=a(3),E=(a(28),function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=[],a=0;a<Object(b.random)(5,12,!1);a++)t.push(e.charAt(Math.floor(Math.random()*e.length)));return t.join("")}),v=[],j=0;j<10;j++)v.push({id:Object(b.uniqueId)(),label:E(),time:Object(b.random)(100,2e3,!1)});var p=function(){function e(){Object(f.a)(this,e),this.id=Object(b.uniqueId)("consumer_"),this.isBusy=!1,this.data=null}return Object(d.a)(e,[{key:"consume",value:function(e,t){var a=this;if(this.isBusy)throw new Error("Busy");this.isBusy=!0,this.data=e,setTimeout(function(){a.isBusy=!1,a.data=null,t(a)},e.time)}}]),e}(),O=function(){var e=Object(n.useState)(v),t=Object(s.a)(e,2),a=t[0],r=t[1],u=Object(n.useState)([new p,new p,new p]),i=Object(s.a)(u,2),l=i[0],o=i[1];return Object(n.useEffect)(function(){var e=setInterval(function(){!function(){var e=Object(m.a)(a),t=e.shift(),n=l.findIndex(function(e){return!e.isBusy});if(t&&n>-1){var c=l[n];c.consume(t,function(e){var t=Object(m.a)(l),a=t.findIndex(function(t){return t.id===e.id});t.splice(a,1,c),o(t)});var s=Object(m.a)(l);s.splice(n,1,c),o(s),r(e)}}(),a.length||clearInterval(e)},500);return function(){return clearInterval(e)}},[a]),c.a.createElement("div",{className:"stream-demo"},c.a.createElement("div",{className:"producers"},c.a.createElement("button",{className:"start-producing",onClick:function(){return function(){for(var e=[],t=0;t<10;t++)e.push({id:Object(b.uniqueId)(),label:E(),time:Object(b.random)(100,2e3,!1)});r(Object(m.a)(a).concat(e))}()}},c.a.createElement("i",{className:"fas fa-reply"}))),c.a.createElement("div",{className:"storage"},a.map(function(e){return c.a.createElement("span",{key:e.id,className:"data"},e.label)})),c.a.createElement("div",{className:"consumers"},l.map(function(e,t){return c.a.createElement("div",{key:t,className:"consumer"},c.a.createElement("span",{className:e.isBusy?"name busy":"name"},e.isBusy&&c.a.createElement("i",{className:"fas fa-cog fa-spin"}),!e.isBusy&&c.a.createElement("i",{className:"fas fa-cog"})),e.data&&c.a.createElement("span",{className:"data"},e.data.label))})))},h=function(e){var t=e.children;return c.a.createElement("div",null,t)},y=function(e){var t=e.component,a=Object(o.a)(e,["component"]);return c.a.createElement(u.b,Object.assign({},a,{render:function(e){return c.a.createElement(h,null,c.a.createElement(t,e))}}))},N=Object(u.e)(function(){var e=function(){return c.a.createElement(u.a,{to:"/"})};return c.a.createElement(u.d,null,c.a.createElement(y,{exact:!0,path:"/",component:O}),c.a.createElement(u.b,{exact:!0,path:"/",render:e}),c.a.createElement(u.b,{exact:!0,path:"/login",render:e}),c.a.createElement(u.a,{to:"/"}))}),w=Object(i.a)();Object(r.render)(c.a.createElement(function(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],r=t[1];return c.a.createElement(l.Provider,{value:{store:a,setContext:r}},c.a.createElement(u.c,{history:w},c.a.createElement(N,null)))},null),document.getElementById("root"))}},[[20,2,1]]]);
//# sourceMappingURL=main.5e42328a.chunk.js.map