{"version":3,"sources":["store.js","components/Translate/Translate.jsx","pages/main/Main.jsx","utils/api.js","pages/register/Register.jsx","Routes.jsx","App.jsx","index.js"],"names":["createContext","Translate","callback","delay","_useState","useState","_useState2","Object","slicedToArray","loading","setLoading","_useState3","_useState4","originalText","setOriginalText","_useState5","_useState6","translatedText","setTranslatedText","debouncedSave","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","nextValue","result","wrap","_context","prev","next","fetch","concat","sent","t0","console","json","t1","log","call","stop","this","_x","apply","arguments","useCallback","debounce","react_default","createElement","className","rows","value","onChange","event","target","Main","API_URL","process","headers","localStorage","getItem","api","endpoint","data","axios","post","then","response","lodashGet","catch","error","message","Register","props","context","firstName","lastName","email","password","state","setState","inputChanged","_objectSpread2","objectSpread","defineProperty","name","register","_ref2","preventDefault","API","AppHistory","push","username","onSubmit","type","placeholder","id","required","PrivateRoute","Component","component","rest","objectWithoutProperties","react_router","assign","render","withRouter","Routes_PrivateRoute","exact","path","to","createBrowserHistory","store","setContext","src_store","Provider","history","src_Routes","document","getElementById"],"mappings":"4JAIeA,4ECSAC,SAAA,WAAM,IARAC,EAAUC,EAQVC,EACWC,oBAAS,GADpBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACZK,EADYH,EAAA,GACHI,EADGJ,EAAA,GAAAK,EAEqBN,mBAAS,mBAF9BO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAEZE,EAFYD,EAAA,GAEEE,EAFFF,EAAA,GAAAG,EAGyBV,mBAAS,IAHlCW,EAAAT,OAAAC,EAAA,EAAAD,CAAAQ,EAAA,GAGZE,EAHYD,EAAA,GAGIE,EAHJF,EAAA,GAIbG,GAZajB,EAYc,eAAAkB,EAAAb,OAAAc,EAAA,EAAAd,CAAAe,EAAAC,EAAAC,KAAC,SAAAC,EAAOC,GAAP,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAChCrB,GAAW,GADqBmB,EAAAE,KAAA,EAEXC,MAAK,GAAAC,OAhBlB,6CAgBkB,UAAAA,OAAgBP,IAFV,cAE1BC,EAF0BE,EAAAK,KAAAL,EAAAM,GAGhCC,QAHgCP,EAAAE,KAAA,EAGdJ,EAAOU,OAHO,OAAAR,EAAAS,GAAAT,EAAAK,KAAAL,EAAAM,GAGxBI,IAHwBC,KAAAX,EAAAM,GAAAN,EAAAS,IAIhCpB,EAAkBQ,GAClBhB,GAAW,GALqB,yBAAAmB,EAAAY,SAAAhB,EAAAiB,SAAD,gBAAAC,GAAA,OAAAvB,EAAAwB,MAAAF,KAAAG,YAAA,GAZJ1C,EAkB1B,IAjBiB2C,sBAClBC,IAAS,kBAAa7C,EAAQ0C,WAAR,EAAAC,YAAmB1C,GACzC,CAACA,KAuBH,OACE6C,EAAAzB,EAAA0B,cAAA,OAAKC,UAAU,uBACbF,EAAAzB,EAAA0B,cAAA,OAAKC,UAAU,UAAf,cACAF,EAAAzB,EAAA0B,cAAA,OAAKC,UAAU,UACbF,EAAAzB,EAAA0B,cAAA,OAAKC,UAAU,UACbF,EAAAzB,EAAA0B,cAAA,YAAUE,KAAK,IAAIC,MAAOvC,EAAcwC,SAX3B,SAACC,GAAU,IACf5B,EAAc4B,EAAMC,OAA3BH,MACRtC,EAAgBY,GAChBP,EAAcO,OAUVsB,EAAAzB,EAAA0B,cAAA,OAAKC,UAAU,WACZzC,GAAWuC,EAAAzB,EAAA0B,cAAA,KAAGC,UAAU,wBAE3BF,EAAAzB,EAAA0B,cAAA,OAAKC,UAAU,eACbF,EAAAzB,EAAA0B,cAAA,YAAUE,KAAK,IAAIC,MAAOnC,EAAgBoC,SAAU,oBCtC/CG,SAAA,WACb,OACER,EAAAzB,EAAA0B,cAAChD,EAAD,4DCJEwD,EAAUC,0BAEVC,EAAU,WACd,IAAMA,EAAU,GAIhB,OAFIC,aAAaC,QAAQ,WAAUF,EAAO,cAAoBC,aAAaC,QAAQ,UAE5EF,GAgCMG,EA5BK,SAACC,EAAUC,GAE7B,OADA5B,QAAQG,IAAR,SAAAN,OAAqB8B,IACdE,IAAMC,KAAN,GAAAjC,OAAcwB,EAAd,KAAAxB,OAAyB8B,GAAYC,EAAM,CAAEL,QAASA,MAC1DQ,KAAK,SAAAC,GACJ,MAA2C,OAAvCC,cAAUD,EAAU,eACfC,cAAUD,EAAU,aAEtB,OACNE,MAAM,SAAAC,GAEP,MADYF,cAAUE,EAAO,sBAAuB,CAACC,QAAS,wBCjBrDC,EAAA,SAACC,EAAOC,GAAY,IAAAvE,EACPC,mBAAS,CACjCkE,MAAO,GACPK,UAAW,GACXC,SAAU,GACVC,MAAO,GACPC,SAAU,KANqBzE,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAC1B4E,EAD0B1E,EAAA,GACnB2E,EADmB3E,EAAA,GAQ3B4E,EAAe,SAAA9D,GAAgB,IAAA+D,EAAb5B,EAAanC,EAAbmC,OACtB0B,EAAS1E,OAAA6E,EAAA,EAAA7E,CAAA,GACJyE,GADGG,EAAA,GAAA5E,OAAA8E,EAAA,EAAA9E,CAAA4E,EAEL5B,EAAO+B,KAAO/B,EAAOH,OAFhB7C,OAAA8E,EAAA,EAAA9E,CAAA4E,EAAA,QAGC,IAHDA,MAOJI,EAAQ,eAAAC,EAAAjF,OAAAc,EAAA,EAAAd,CAAAe,EAAAC,EAAAC,KAAG,SAAAC,EAAO6B,GAAP,IAAAsB,EAAAC,EAAAC,EAAAC,EAAAf,EAAA,OAAA1C,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACfuB,EAAMmC,iBACEb,EAAyCI,EAAzCJ,UAAWC,EAA8BG,EAA9BH,SAAUC,EAAoBE,EAApBF,MAAOC,EAAaC,EAAbD,SAFrBlD,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAIM2D,EAAS,gBAAiB,CAC3Cd,YACAC,WACAC,QACAC,aARW,OAIPf,EAJOnC,EAAAK,KAUbyD,EAAWC,KAAK,SAAU,CAACC,SAAU7B,EAAK6B,WAV7BhE,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAM,GAAAN,EAAA,SAYboD,EAAS1E,OAAA6E,EAAA,EAAA7E,CAAA,GACJyE,EADG,CAENT,MAAO1C,EAAAM,GAAMqC,WAdF,yBAAA3C,EAAAY,SAAAhB,EAAAiB,KAAA,YAAH,gBAAAC,GAAA,OAAA6C,EAAA5C,MAAAF,KAAAG,YAAA,GAkBd,OACEG,EAAAzB,EAAA0B,cAAA,QAAM6C,SAAUP,GACdvC,EAAAzB,EAAA0B,cAAA,OAAKC,UAAU,mBACbF,EAAAzB,EAAA0B,cAAA,OAAKC,UAAU,eACbF,EAAAzB,EAAA0B,cAAA,MAAIC,UAAU,WAAd,WAEFF,EAAAzB,EAAA0B,cAAA,OAAKC,UAAW,2BAA8B8B,EAAMT,MAA6B,GAArB,sBAC1DvB,EAAAzB,EAAA0B,cAAA,YAAO+B,EAAMT,QAEfvB,EAAAzB,EAAA0B,cAAA,SAAO8C,KAAK,OAAO7C,UAAU,wBAAwB8C,YAAY,aAAaV,KAAK,YAAYW,GAAG,YAAY7C,MAAO4B,EAAMJ,UAAWvB,SAAU6B,EAAcgB,UAAQ,IACtKlD,EAAAzB,EAAA0B,cAAA,SAAO8C,KAAK,OAAO7C,UAAU,wBAAwB8C,YAAY,YAAYV,KAAK,WAAWW,GAAG,WAAW7C,MAAO4B,EAAMH,SAAUxB,SAAU6B,EAAcgB,UAAQ,IAClKlD,EAAAzB,EAAA0B,cAAA,SAAO8C,KAAK,OAAO7C,UAAU,wBAAwB8C,YAAY,QAAQV,KAAK,QAAQW,GAAG,QAAQ7C,MAAO4B,EAAMF,MAAOzB,SAAU6B,EAAcgB,UAAQ,IACrJlD,EAAAzB,EAAA0B,cAAA,SAAO8C,KAAK,WAAW7C,UAAU,wBAAwB8C,YAAY,WAAWV,KAAK,WAAWW,GAAG,WAAW7C,MAAO4B,EAAMD,SAAU1B,SAAU6B,EAAcgB,UAAQ,IAErKlD,EAAAzB,EAAA0B,cAAA,OAAKC,UAAU,eACbF,EAAAzB,EAAA0B,cAAA,UAAQ8C,KAAK,SAAS7C,UAAU,iBAAhC,eC/CJiD,EAAe,SAAA/E,GAAuC,IAAzBgF,EAAyBhF,EAApCiF,UAAyBC,EAAW/F,OAAAgG,EAAA,EAAAhG,CAAAa,EAAA,eAC1D,OACE4B,EAAAzB,EAAA0B,cAACuD,EAAA,EAADjG,OAAAkG,OAAA,GACMH,EADN,CAEEI,OAAQ,SAAAhC,GAAK,OAET1B,EAAAzB,EAAA0B,cAACmD,EAAc1B,QAsCViC,cAxBA,WACb,OACI3D,EAAAzB,EAAA0B,cAACuD,EAAA,EAAD,KACExD,EAAAzB,EAAA0B,cAAC2D,EAAD,CAAcP,UAAW7C,EAAMqD,OAAK,EAACC,KAAK,MAC1C9D,EAAAzB,EAAA0B,cAACuD,EAAA,EAAD,CAAOK,OAAK,EAACC,KAAK,IAAIJ,OAAQ,kBAE1B1D,EAAAzB,EAAA0B,cAACuD,EAAA,EAAD,CAAUO,GAAG,SAKjB/D,EAAAzB,EAAA0B,cAACuD,EAAA,EAAD,CAAOK,OAAK,EAACC,KAAK,SAASJ,OAAQ,kBAE/B1D,EAAAzB,EAAA0B,cAACuD,EAAA,EAAD,CAAUO,GAAG,SAKjB/D,EAAAzB,EAAA0B,cAACuD,EAAA,EAAD,CAAOK,OAAK,EAACC,KAAK,YAAYT,UAAW5B,IACzCzB,EAAAzB,EAAA0B,cAACuD,EAAA,EAAD,CAAUO,GAAG,SCvCRpB,EAAaqB,cCD1BN,iBAAO1D,EAAAzB,EAAA0B,cDGQ,WAAM,IAAA7C,EAEQC,mBAAS,IAFjBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAEb6G,EAFa3G,EAAA,GAEN4G,EAFM5G,EAAA,GAGpB,OACC0C,EAAAzB,EAAA0B,cAACkE,EAAaC,SAAd,CAAuBhE,MAAO,CAAC6D,QAAOC,eACrClE,EAAAzB,EAAA0B,cAACuD,EAAA,EAAD,CAAQa,QAAS1B,GACZ3C,EAAAzB,EAAA0B,cAACqE,EAAD,SCTD,MAASC,SAASC,eAAe","file":"static/js/main.6e0b9d1b.chunk.js","sourcesContent":["import { createContext } from 'react';\n\n\n\nexport default createContext();\n","import React, { useState, useCallback } from \"react\";\nimport debounce from 'lodash/debounce';\nimport \"./translate.scss\";\nconst API = \"https://rpi4.regdelivery.de/translate/api/\";\n\nconst useDebounce = (callback, delay) => {\n  const debouncedFn = useCallback(\n    debounce((...args) => callback(...args), delay),\n    [delay]\n  );\n  return debouncedFn;\n};\n\nexport default () => {\n  const [loading, setLoading] = useState(false);\n  const [originalText, setOriginalText] = useState('start typing...');\n  const [translatedText, setTranslatedText] = useState('');\n  const debouncedSave = useDebounce(async (nextValue) => {\n    setLoading(true);\n    const result = await fetch(`${API}?text=${nextValue}`);\n    console.log(await result.json());\n    setTranslatedText(nextValue);\n    setLoading(false);\n  }, 1000);\n\n  const handleChange = (event) => {\n    const { value: nextValue } = event.target;\n    setOriginalText(nextValue);\n    debouncedSave(nextValue);\n  };\n\n  return (\n    <div className=\"translate-container\">\n      <div className=\"header\">Translator</div>\n      <div className=\"inputs\">\n        <div className=\"origin\">\n          <textarea rows=\"5\" value={originalText} onChange={handleChange} />\n        </div>\n        <div className=\"spinner\">\n          {loading && <i className=\"fas fa-cog fa-spin\"></i>}\n        </div>\n        <div className=\"destination\">\n          <textarea rows=\"5\" value={translatedText} onChange={() => {}} />\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport Translate from '../../components/Translate/Translate';\nimport './main.scss';\n\nexport default () => {\n  return (\n    <Translate />\n  );\n};\n","import axios from 'axios';\nimport { get as lodashGet } from 'lodash';\nconst API_URL = process.env.REACT_APP_API || 'http://localhost:3030';\n\nconst headers = () => {\n  const headers = {};\n\n  if (localStorage.getItem('TOKEN')) headers['Authorization'] = localStorage.getItem('TOKEN');\n\n  return headers;\n\n}\n\nexport const post = (endpoint, data) => {\n  console.log(`POST /${endpoint}`);\n  return axios.post(`${API_URL}/${endpoint}`, data, { headers: headers() })\n    .then(response => {\n      if (lodashGet(response, 'data.status') === 'OK') {\n        return lodashGet(response, 'data.data');\n      }\n      return null;\n    }).catch(error => {\n      const err = lodashGet(error, 'response.data.error', {message: 'Unknown Error !!'});\n      throw err;\n    });\n};\n\nexport const get = (endpoint) => {\n  console.log(`GET /${endpoint}`);\n  return axios.get(`${API_URL}/${endpoint}`, { headers: headers() })\n    .then(response => {\n      if (lodashGet(response, 'data.status') === 'OK') {\n        return lodashGet(response, 'data.data');\n      }\n      return null;\n    }).catch(error => {\n      const err = lodashGet(error, 'response.data.error', {message: 'Unknown Error !!'});\n      throw err;\n    });\n};\n\nexport default {\n  get,\n  post\n};\n","import React, { useState } from 'react';\n\nimport API from '../../utils/api';\nimport { AppHistory } from '../../App';\n\nexport default (props, context) => {\n  const [state, setState] = useState({\n    error: '',\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: ''\n  });\n  const inputChanged = ({ target }) => {\n    setState({\n      ...state,\n      [target.name]: target.value,\n      error: ''\n    });\n  }\n\n  const register = async (event) => {\n    event.preventDefault();\n    const { firstName, lastName, email, password } = state;\n    try {\n      const data = await API.post('auth/register', {\n        firstName,\n        lastName,\n        email,\n        password\n      });\n      AppHistory.push('/login', {username: data.username});\n    } catch (error) {\n      setState({\n        ...state,\n        error: error.message\n      });\n    }\n  }\n  return (\n    <form onSubmit={register}>\n      <div className=\"login-container\">\n        <div className=\"text-center\">\n          <h2 className=\"heading\">Signup</h2>\n        </div>\n        <div className={\"text-center error-text \" + (!state.error ? 'visibility-hidden': '')}>\n          <span>{state.error}</span>\n        </div>\n        <input type=\"text\" className=\"form-control col-sm-9\" placeholder=\"First Name\" name=\"firstName\" id=\"firstName\" value={state.firstName} onChange={inputChanged} required />\n        <input type=\"text\" className=\"form-control col-sm-9\" placeholder=\"Last Name\" name=\"lastName\" id=\"lastName\" value={state.lastName} onChange={inputChanged} required />\n        <input type=\"text\" className=\"form-control col-sm-9\" placeholder=\"Email\" name=\"email\" id=\"email\" value={state.email} onChange={inputChanged} required />\n        <input type=\"password\" className=\"form-control col-sm-9\" placeholder=\"Password\" name=\"password\" id=\"password\" value={state.password} onChange={inputChanged} required />\n\n        <div className=\"text-center\">\n          <button type=\"submit\" className=\"btn login-btn\">Sign up</button>\n        </div>\n      </div>\n    </form>\n  );\n}\n","import React from 'react';\nimport { Route, Switch, withRouter, Redirect,  } from 'react-router-dom';\n\nimport { Main, Login, Register } from './pages';\n\nconst isLoggedIn = () => true;\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        isLoggedIn() ? (\n          <Component {...props} />\n        ) : (\n            <Redirect\n              to={{\n                pathname: '/login',\n                state: { from: props.location }\n              }}\n            />\n          )\n      }\n    />\n  );\n};\n\nconst Routes = () => {\n  return (\n      <Switch>\n        <PrivateRoute component={Main} exact path='/' />\n        <Route exact path='/' render={() => (\n          isLoggedIn() ? (\n            <Redirect to='/' />\n          ) : (\n              <Redirect to='/login' />\n            )\n        )} />\n        <Route exact path='/login' render={() => (\n          isLoggedIn() ? (\n            <Redirect to='/' />\n          ) : (\n              <Route path='/login' component={Login} />\n            )\n        )} />\n        <Route exact path='/register' component={Register} />\n        <Redirect to='/'/>\n      </Switch>\n  );\n};\n\nexport default withRouter(Routes);\n","import React, { useState } from 'react';\nimport { Router } from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\n\nimport StoreContext from './store';\nimport Routes from './Routes';\n\nexport const AppHistory = createBrowserHistory();\n\nexport default () => {\n\n\tconst [store, setContext] = useState({});\n\treturn (\n\t\t<StoreContext.Provider value={{store, setContext}}>\n\t\t\t<Router history={AppHistory}>\n        <Routes/>\n      </Router>\n\t\t</StoreContext.Provider>\n\t);\n}\n","import React from 'react';\nimport { render } from 'react-dom';\n\nimport './index.scss';\nimport App from './App';\n\nrender(<App />, document.getElementById('root'));\n"],"sourceRoot":""}