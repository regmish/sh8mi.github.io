{"version":3,"sources":["store.js","components/Sidebar/Header.jsx","components/Sidebar/Footer.jsx","components/Sidebar/FriendsList.jsx","components/Sidebar/Chats.jsx","components/Sidebar/Settings.jsx","utils/socket.js","components/Sidebar/Sidebar.jsx","components/Chat/ChatHeader.jsx","components/Chat/MsgForm.jsx","components/Chat/Conversation.jsx","components/Chat/NoChatSelected.jsx","components/Chat/Chat.jsx","utils/api.js","pages/main/Main.jsx","pages/login/Login.jsx","pages/register/Register.jsx","Routes.jsx","App.jsx","index.js"],"names":["createContext","Header","_ref","activeTab","react_default","a","createElement","className","Footer","setActiveTab","concat","onClick","FriendsList","_useContext","useContext","Store","store","setContext","get","user","channels","friends","loadConversation","Object","asyncToGenerator","regenerator_default","mark","_callee","friend","channel","wrap","_context","prev","next","find","ch","participants","map","type","includes","_id","objectSpread","activeChannel","stop","this","_x","apply","arguments","id","key","firstName","lastName","Chats","Settings","logout","socket","utils_socket","console","log","io","connect","process","transports","query","Authorization","localStorage","getItem","Sidebar","_useState","useState","_useState2","slicedToArray","clear","window","location","reload","Socket","disconnect","ChatHeader","_ref$friend","MsgForm","msg","setState","value","onChange","target","onKeyPress","event","conversations","document","getElementById","scrollTo","top","scrollHeight","behavior","scrollBottom","Sent","Fragment","Replies","_ref2","messages","Conversation","p","Conversation_Sent","content","Conversation_Replies","NoChatSelected","Chat","API_URL","headers","api","endpoint","axios","then","response","data","catch","error","post","Main","API","sent","shift","t0","loadInitials","createSocketConnection","Login","props","context","username","password","state","inputChanged","defineProperty","name","login","preventDefault","token","setItem","history","push","onSubmit","required","href","Register","email","register","AppHistory","placeholder","isLoggedIn","PrivateRoute","Component","component","rest","objectWithoutProperties","react_router","assign","render","to","pathname","from","withRouter","Routes_PrivateRoute","exact","path","createBrowserHistory","src_store","Provider","src_Routes"],"mappings":"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","file":"static/js/main.7f5b006c.chunk.js","sourcesContent":["import { createContext } from 'react';\n\n\n\nexport default createContext();\n","import React from 'react';\n\nexport default ({activeTab}) => {\n  return <div className='header'>\n    <div className='header-text'>\n      <span>{activeTab}</span>\n  </div>\n    <div className='header-add-user'>\n      <i className=\"fas fa-user-plus\"></i>\n    </div>\n\n  </div>\n}\n","import React from 'react';\n\nexport default ({ activeTab, setActiveTab }) => {\n  return <div className=\"footer\">\n    <div className={`footer-item ${activeTab === 'Contacts' ? 'active' : ''}`} onClick={() => setActiveTab('Contacts')}>\n      <i className=\"fas fa-user-friends\"></i>\n      <span className=\"text-center\">Contacts</span>\n    </div>\n    <div className={`footer-item ${activeTab === 'Chats' ? 'active' : ''}`} onClick={() => setActiveTab('Chats')}>\n      <i className=\"fas fa-comment-alt\"></i>\n      <span>Chats</span>\n    </div>\n    <div className={`footer-item ${activeTab === 'Settings' ? 'active' : ''}`} onClick={() => setActiveTab('Settings')}>\n      <i className=\"fas fa-cog\"></i>\n      <span>Settings</span>\n    </div>\n  </div>\n}\n","import React, { useContext } from 'react';\nimport { find, get, map } from 'lodash';\n\nimport Store from '../../store';\n// import API from '../../utils/api';\n\nexport default () => {\n  const { store, setContext } = useContext(Store);\n\n  if (!get(store, 'user')) return null;\n\n  const { user, channels } = store;\n  const friends = user.friends || [];\n\n  const loadConversation = async (friend) => {\n    const channel = find(channels, ch => {\n      const participants = map(get(ch, 'participants'), '_id');\n      return ch.type === 'PRIVATE' && participants.includes(friend._id) && participants.includes(user._id);\n    });\n\n    if (channel) {\n      setContext({\n        ...store,\n        activeChannel: channel\n      });\n    //   const messages = await API.get(`channels/${channel._id}/messages`);\n    //   messages.forEach(m => console.log(m.content))\n    }\n  };\n\n  return (\n    <div className=\"friend-list\">\n    {\n      friends.map((friend, id) => <div className=\"user\" key={id} onClick={() => loadConversation(friend)}>\n        <div className=\"profile-pic\">\n          <span>{`${friend.firstName[0]} ${friend.lastName[0]}`}</span>\n        </div>\n        <div className=\"user-detail\">\n          <span className=\"username\">{`${friend.firstName} ${friend.lastName}`}</span>\n          <span className=\"last-seen\">Seen a long time ago</span>\n        </div>\n        <div className=\"online-status\">\n          {\n            id % 2 === 0 ?\n              <div className=\"online\"></div> :\n              <div className=\"offline\"></div>\n          }\n        </div>\n      </div>)\n    }\n  </div>\n  );\n}\n\n","import React from 'react';\n\nexport default () => <h4>Not Impelented !!</h4>\n","import React from 'react';\n\nexport default ({ logout }) => {\n  return (\n    <div className=\"settings\">\n      <div className=\"header-text\">\n        <span>My Account</span>\n      </div>\n      <div className=\"settings-menu\">\n        <div className=\"menu-item edit-profile\">\n          <div>\n            <i className=\"fas fa-user\"></i>\n            <span>Edit Profile</span>\n          </div>\n        </div>\n        <div className=\"menu-item change-password\">\n          <div>\n            <i className=\"fas fa-key\"></i>\n            <span>Change Password</span>\n          </div>\n        </div>\n\n        <div className=\"menu-item logout\" onClick={logout}>\n          <div>\n            <i className=\"fas fa-sign-out-alt\"></i>\n            <span>Logout</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import io from 'socket.io-client';\n\nlet socket = null;\n\nexport default () => {\n  if (!socket) {\n    console.log('Establishing socket connection..');\n    socket = io.connect(process.env.REACT_APP_API, {\n      transports: ['websocket'],\n      query: {\n        Authorization: localStorage.getItem('TOKEN')\n      },\n    });\n  }\n  return socket;\n}\n","import React, { useState } from 'react';\n\nimport Header from './Header';\nimport Footer from './Footer';\nimport FriendsList from './FriendsList';\nimport Chats from './Chats';\nimport Settings from './Settings';\nimport Socket from '../../utils/socket';\nimport './sidebar.scss';\n\nexport default () => {\n  const [activeTab, setActiveTab] = useState('Contacts');\n\n  const logout = () => {\n    localStorage.clear();\n    window.location.reload();\n    Socket().disconnect();\n  };\n\n  return <div className=\"sidebar\">\n    <Header activeTab={activeTab}/>\n    <div className=\"sidebar-dynamic-content\">\n      {\n        activeTab === 'Contacts' && <FriendsList />\n      }\n      {\n        activeTab === 'Chats' && <Chats />\n      }\n      {\n        activeTab === 'Settings' && <Settings logout={logout}/>\n      }\n    </div>\n    <Footer setActiveTab={setActiveTab} activeTab={activeTab} />\n  </div>\n}\n","import React from 'react';\n\nexport default ({ friend = {} }) => {\n  const { firstName, lastName } = friend;\n  return <div className='chat-header'>\n    <div className='chatting-with'>\n      <span>{`${firstName} ${lastName}`}</span>\n      <span className=\"online-status\">Active now</span>\n  </div>\n  </div>\n}\n","import React, { useState } from 'react';\n\n// import Store from '../../store';\n\nconst scrollBottom = () => {\n\tconst conversations = document.getElementById('root');\n\tconversations.scrollTo({\n\t\ttop: conversations.scrollHeight,\n\t\tbehavior: 'smooth',\n\t});\n};\nexport default () => {\n\t// const { store, setContext } = useContext(Store);\n\tconst [msg, setState] = useState('');\n\n\tconst inputChanged = ({ target: { value } }) => setState(value);\n\tconst send = (event) => {\n\t\tif (event.key === 'Enter') {\n      console.log(msg);\n\t\t\tsetState('');\n\t\t\tscrollBottom();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"msg-form\">\n      <input className=\"form-control\" value={msg} onChange={inputChanged} onKeyPress={send}></input>\n    </div>\n\t)\n}\n","import React, { useContext } from 'react';\n\nimport Store from '../../store';\n// import API from '../../utils/api';\n\nimport ChatHeader from './ChatHeader';\nimport MsgForm from './MsgForm';\n\nconst Sent = ({ msg }) => {\n  return (\n    <React.Fragment>\n      <li>\n        <p className=\"sent\">{msg}</p>\n      </li>\n    </React.Fragment>\n  )\n};\n\nconst Replies = ({ msg }) => {\n  return (\n    <React.Fragment>\n      <li>\n        <p className=\"reply\">{msg}</p>\n      </li>\n    </React.Fragment>\n  )\n};\nconst messages = [];\nexport default () => {\n  const { store } = useContext(Store);\n  const { user, activeChannel } = store;\n  const friend = activeChannel.participants.find(p => p._id !== user._id);\n\n  // const [messages, setMessages] = useState([]);\n\n\n  return (\n    <React.Fragment>\n      <ChatHeader friend={friend} />\n      <div className=\"conversation\">\n        <ul>\n          {messages.map((msg, id) => {\n            return (\n              id % 2 === 0 ? <Sent msg={msg.content} key={id} /> : <Replies msg={msg.content} key={id} />\n            );\n          })}\n        </ul>\n      </div>\n      <MsgForm />\n    </React.Fragment>\n  )\n}\n","import React from 'react';\n\nexport default () => {\n  return <div className=\"no-chat-selected\">\n      Please select a chat to start messaging\n    </div>\n}\n","import React, { useContext } from 'react';\n\nimport Store from '../../store';\n\nimport Conversation from './Conversation';\nimport NoChatSelected from './NoChatSelected';\n\nimport './chat.scss';\n\nexport default () => {\n  const { store } = useContext(Store);\n\n  return <div className=\"chat\">\n    {\n      store.activeChannel ? <Conversation /> : <NoChatSelected/>\n    }\n  </div>\n}\n","import axios from 'axios';\n\nconst API_URL = process.env.REACT_APP_API || 'http://localhost:3030';\n\nconst headers = () => {\n  const headers = {};\n\n  if (localStorage.getItem('TOKEN')) headers['Authorization'] = localStorage.getItem('TOKEN');\n\n  return headers;\n\n}\n\nexport const post = (endpoint, data) => {\n  console.log(`POST /${endpoint}`);\n  return axios.post(`${API_URL}/${endpoint}`, data, {\n    headers: headers()\n  }).then(response => {\n    return response.data;\n  }).catch(error => {\n    throw error.response\n  });\n};\n\nexport const get = (endpoint) => {\n  console.log(`GET /${endpoint}`);\n  return axios.get(`${API_URL}/${endpoint}`, { headers: headers() })\n    .then(response => {\n      return response.data;\n    }).catch(error => {\n      throw error.response\n    });\n};\n\nexport default {\n  get,\n  post\n};\n","import React, { useContext } from 'react';\n\nimport Store from '../../store';\nimport { Sidebar, Chat } from '../../components';\nimport API from '../../utils/api';\nimport createSocketConnection from '../../utils/socket';\n\nexport default () => {\n  const { store, setContext } = useContext(Store);\n\n  const loadInitials = async () => {\n    if (!store.user && !store.channels) {\n      try {\n        const user = (await API.get('users')).shift();\n        const channels = await API.get('channels');\n        setContext({\n          ...store,\n          user,\n          channels\n        });\n      } catch (error) {\n        console.log('Error retreiving initial user information', error.data);\n      }\n    }\n  }\n\n  loadInitials();\n  createSocketConnection();\n\n  return <div className=\"main\">\n    <Sidebar></Sidebar>\n    <Chat></Chat>\n  </div>\n};\n","import React, { useState } from 'react';\nimport get from 'lodash/get';\n\nimport API from '../../utils/api';\nimport './login.scss';\n\nexport default (props, context) => {\n  const [state, setState] = useState({\n    error: false,\n    username: get(props, 'location.state.username', ''),\n    password: ''\n  });\n  const inputChanged = ({ target }) => {\n    setState({\n      ...state,\n      [target.name]: target.value\n    });\n  }\n\n  const login = async (event) => {\n    event.preventDefault();\n    const { username, password } = state;\n    try {\n      const data = await API.post('auth/login', {\n        username,\n        password\n      });\n      if (data && data.token) {\n        localStorage.setItem('TOKEN', data.token);\n        props.history.push('/');\n      }\n    } catch (error) {\n      setState({\n        ...state,\n        error: error.data\n      });\n    }\n  }\n  return (\n    <form onSubmit={login}>\n      <div className=\"login-container\">\n        <div className=\"text-center\">\n          <h2 className=\"heading\">Login</h2>\n        </div>\n        <div className={\"text-center error-text \" + (!state.error ? 'visibility-hidden': '')}>\n          <span>{state.error}</span>\n        </div>\n        <input type=\"text\" className=\"form-control col-sm-9\" name=\"username\" id=\"username\" value={state.username} onChange={inputChanged} required />\n        <input type=\"password\" className=\"form-control col-sm-9\" name=\"password\" id=\"password\" value={state.password} onChange={inputChanged} required />\n\n        <div className=\"text-center\">\n          <button type=\"submit\" className=\"btn login-btn\">Login</button>\n        </div>\n        <div className=\"text-center signup-text\">\n          <span>Don't have an account yet? <a href=\"/register\">Create here</a></span>\n        </div>\n      </div>\n    </form>\n  );\n}\n","import React, { useState } from 'react';\n\nimport API from '../../utils/api';\nimport { AppHistory } from '../../App';\n\nexport default (props, context) => {\n  const [state, setState] = useState({\n    error: '',\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: ''\n  });\n  const inputChanged = ({ target }) => {\n    setState({\n      ...state,\n      [target.name]: target.value\n    });\n  }\n\n  const register = async (event) => {\n    event.preventDefault();\n    const { firstName, lastName, email, password } = state;\n    try {\n      const data = await API.post('auth/register', {\n        firstName,\n        lastName,\n        email,\n        password\n      });\n      AppHistory.push('/login', {username: data.username});\n    } catch (error) {\n      setState({\n        ...state,\n        error: error.data\n      });\n    }\n  }\n  return (\n    <form onSubmit={register}>\n      <div className=\"login-container\">\n        <div className=\"text-center\">\n          <h2 className=\"heading\">Signup</h2>\n        </div>\n        <input type=\"text\" className=\"form-control col-sm-9\" placeholder=\"First Name\" name=\"firstName\" id=\"firstName\" value={state.firstName} onChange={inputChanged} required />\n        <input type=\"text\" className=\"form-control col-sm-9\" placeholder=\"Last Name\" name=\"lastName\" id=\"lastName\" value={state.lastName} onChange={inputChanged} required />\n        <input type=\"text\" className=\"form-control col-sm-9\" placeholder=\"Email\" name=\"email\" id=\"email\" value={state.email} onChange={inputChanged} required />\n        <input type=\"password\" className=\"form-control col-sm-9\" placeholder=\"Password\" name=\"password\" id=\"password\" value={state.password} onChange={inputChanged} required />\n\n        <div className=\"text-center\">\n          <button type=\"submit\" className=\"btn login-btn\">Sign up</button>\n        </div>\n      </div>\n    </form>\n  );\n}\n","import React from 'react';\nimport { Route, Switch, withRouter, Redirect,  } from 'react-router-dom';\n\nimport { Main, Login, Register } from './pages';\n\nconst isLoggedIn = () => localStorage.getItem('TOKEN');\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        isLoggedIn() ? (\n          <Component {...props} />\n        ) : (\n            <Redirect\n              to={{\n                pathname: '/login',\n                state: { from: props.location }\n              }}\n            />\n          )\n      }\n    />\n  );\n};\n\nconst Routes = () => {\n  return (\n      <Switch>\n        <PrivateRoute component={Main} exact path='/' />\n        <Route exact path='/' render={() => (\n          isLoggedIn() ? (\n            <Redirect to='/' />\n          ) : (\n              <Redirect to='/login' />\n            )\n        )} />\n        <Route exact path='/login' render={() => (\n          isLoggedIn() ? (\n            <Redirect to='/' />\n          ) : (\n              <Route path='/login' component={Login} />\n            )\n        )} />\n        <Route exact path='/register' component={Register} />\n        <Redirect to='/'/>\n      </Switch>\n  );\n};\n\nexport default withRouter(Routes);\n","import React, { useState } from 'react';\nimport { Router } from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\n\nimport StoreContext from './store';\nimport Routes from './Routes';\n\nexport const AppHistory = createBrowserHistory();\n\nexport default () => {\n\n\tconst [store, setContext] = useState({});\n\treturn (\n\t\t<StoreContext.Provider value={{store, setContext}}>\n\t\t\t<Router history={AppHistory}>\n        <Routes/>\n      </Router>\n\t\t</StoreContext.Provider>\n\t);\n}\n","import React from 'react';\nimport { render } from 'react-dom';\n\nimport './index.scss';\nimport App from './App';\n\nrender(<App />, document.getElementById('root'));\n"],"sourceRoot":""}