{"version":3,"sources":["store.js","pages/main/Main.jsx","pages/login/Login.jsx","utils/api.js","pages/register/Register.jsx","Routes.jsx","App.jsx","index.js"],"names":["createContext","Main","_useContext","useContext","Store","store","setContext","Object","objectSpread","loggedIn","react_default","a","createElement","className","Login","props","context","_useState","useState","error","username","get","password","_useState2","slicedToArray","state","setState","inputChanged","_ref","_objectSpread2","target","defineProperty","name","value","login","_ref2","asyncToGenerator","regenerator_default","mark","_callee","event","wrap","_context","prev","next","preventDefault","localStorage","setItem","history","push","message","stop","this","_x","apply","arguments","onSubmit","type","id","onChange","required","href","API_URL","process","headers","getItem","api","endpoint","data","console","log","concat","axios","post","then","response","lodashGet","catch","Register","firstName","lastName","email","register","API","sent","AppHistory","t0","placeholder","isLoggedIn","PrivateRoute","Component","component","rest","objectWithoutProperties","react_router","assign","render","to","pathname","from","location","withRouter","Routes_PrivateRoute","exact","path","createBrowserHistory","src_store","Provider","src_Routes","document","getElementById"],"mappings":"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","file":"static/js/main.37dbf167.chunk.js","sourcesContent":["import { createContext } from 'react';\n\n\n\nexport default createContext();\n","import React, { useContext } from 'react';\n\nimport Store from '../../store';\n// import { Sidebar, Chat } from '../../components';\n// import API from '../../utils/api';\n// import SocketConnection from '../../utils/socket';\n\nexport default () => {\n  const { store, setContext } = useContext(Store);\n  setContext({\n    ...store,\n    loggedIn: true\n  });\n  // useEffect(async () => {\n  //   // get user and channel information\n  //   const user = (await API.get(`users`)).shift();\n  //   const channels = await API.get('channels');\n  //   const Socket = SocketConnection();\n  //   setContext({\n  //     ...store,\n  //     user,\n  //     channels,\n  //     Socket\n  //   });\n  // }, [localStorage.getItem('TOKEN')]);\n\n  return <div className=\"main\">\n    {/* <Sidebar></Sidebar>\n    <Chat></Chat> */}\n  </div>\n};\n","import React, { useState } from 'react';\nimport get from 'lodash/get';\n\n// import API from '../../utils/api';\nimport './login.scss';\n\nexport default (props, context) => {\n  const [state, setState] = useState({\n    error: false,\n    username: get(props, 'location.state.username', ''),\n    password: ''\n  });\n  const inputChanged = ({ target }) => {\n    setState({\n      ...state,\n      [target.name]: target.value,\n      error: ''\n    });\n  }\n\n  const login = async (event) => {\n    event.preventDefault();\n    const { username, password } = state;\n    try {\n      if (username === 'admin' && password === 'admin') {\n        localStorage.setItem('TOKEN', 'SHANKARREGMI.GITHUB.IO');\n        props.history.push('/');\n      }\n      // const data = await API.post('auth/login', {\n      //   username,\n      //   password\n      // });\n      // if (data && data.token) {\n      // }\n    } catch (error) {\n      setState({\n        ...state,\n        error: error.message\n      });\n    }\n  }\n  return (\n    <form onSubmit={login}>\n      <div className=\"login-container\">\n        <div className=\"text-center\">\n          <h2 className=\"heading\">Login</h2>\n        </div>\n        <div className={\"text-center error-text \" + (!state.error ? 'visibility-hidden': '')}>\n          <span>{state.error}</span>\n        </div>\n        <input type=\"text\" className=\"form-control col-sm-9\" name=\"username\" id=\"username\" value={state.username} onChange={inputChanged} required />\n        <input type=\"password\" className=\"form-control col-sm-9\" name=\"password\" id=\"password\" value={state.password} onChange={inputChanged} required />\n\n        <div className=\"text-center\">\n          <button type=\"submit\" className=\"btn login-btn\">Login</button>\n        </div>\n        <div className=\"text-center signup-text\">\n          <span>Don't have an account yet? <a href=\"/register\">Create here</a></span>\n        </div>\n      </div>\n    </form>\n  );\n}\n","import axios from 'axios';\nimport { get as lodashGet } from 'lodash';\nconst API_URL = process.env.REACT_APP_API || 'http://localhost:3030';\n\nconst headers = () => {\n  const headers = {};\n\n  if (localStorage.getItem('TOKEN')) headers['Authorization'] = localStorage.getItem('TOKEN');\n\n  return headers;\n\n}\n\nexport const post = (endpoint, data) => {\n  console.log(`POST /${endpoint}`);\n  return axios.post(`${API_URL}/${endpoint}`, data, { headers: headers() })\n    .then(response => {\n      if (lodashGet(response, 'data.status') === 'OK') {\n        return lodashGet(response, 'data.data');\n      }\n      return null;\n    }).catch(error => {\n      const err = lodashGet(error, 'response.data.error', {message: 'Unknown Error !!'});\n      throw err;\n    });\n};\n\nexport const get = (endpoint) => {\n  console.log(`GET /${endpoint}`);\n  return axios.get(`${API_URL}/${endpoint}`, { headers: headers() })\n    .then(response => {\n      if (lodashGet(response, 'data.status') === 'OK') {\n        return lodashGet(response, 'data.data');\n      }\n      return null;\n    }).catch(error => {\n      const err = lodashGet(error, 'response.data.error', {message: 'Unknown Error !!'});\n      throw err;\n    });\n};\n\nexport default {\n  get,\n  post\n};\n","import React, { useState } from 'react';\n\nimport API from '../../utils/api';\nimport { AppHistory } from '../../App';\n\nexport default (props, context) => {\n  const [state, setState] = useState({\n    error: '',\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: ''\n  });\n  const inputChanged = ({ target }) => {\n    setState({\n      ...state,\n      [target.name]: target.value,\n      error: ''\n    });\n  }\n\n  const register = async (event) => {\n    event.preventDefault();\n    const { firstName, lastName, email, password } = state;\n    try {\n      const data = await API.post('auth/register', {\n        firstName,\n        lastName,\n        email,\n        password\n      });\n      AppHistory.push('/login', {username: data.username});\n    } catch (error) {\n      setState({\n        ...state,\n        error: error.message\n      });\n    }\n  }\n  return (\n    <form onSubmit={register}>\n      <div className=\"login-container\">\n        <div className=\"text-center\">\n          <h2 className=\"heading\">Signup</h2>\n        </div>\n        <div className={\"text-center error-text \" + (!state.error ? 'visibility-hidden': '')}>\n          <span>{state.error}</span>\n        </div>\n        <input type=\"text\" className=\"form-control col-sm-9\" placeholder=\"First Name\" name=\"firstName\" id=\"firstName\" value={state.firstName} onChange={inputChanged} required />\n        <input type=\"text\" className=\"form-control col-sm-9\" placeholder=\"Last Name\" name=\"lastName\" id=\"lastName\" value={state.lastName} onChange={inputChanged} required />\n        <input type=\"text\" className=\"form-control col-sm-9\" placeholder=\"Email\" name=\"email\" id=\"email\" value={state.email} onChange={inputChanged} required />\n        <input type=\"password\" className=\"form-control col-sm-9\" placeholder=\"Password\" name=\"password\" id=\"password\" value={state.password} onChange={inputChanged} required />\n\n        <div className=\"text-center\">\n          <button type=\"submit\" className=\"btn login-btn\">Sign up</button>\n        </div>\n      </div>\n    </form>\n  );\n}\n","import React from 'react';\nimport { Route, Switch, withRouter, Redirect,  } from 'react-router-dom';\n\nimport { Main, Login, Register } from './pages';\n\nconst isLoggedIn = () => localStorage.getItem('TOKEN');\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        isLoggedIn() ? (\n          <Component {...props} />\n        ) : (\n            <Redirect\n              to={{\n                pathname: '/login',\n                state: { from: props.location }\n              }}\n            />\n          )\n      }\n    />\n  );\n};\n\nconst Routes = () => {\n  return (\n      <Switch>\n        <PrivateRoute component={Main} exact path='/' />\n        <Route exact path='/' render={() => (\n          isLoggedIn() ? (\n            <Redirect to='/' />\n          ) : (\n              <Redirect to='/login' />\n            )\n        )} />\n        <Route exact path='/login' render={() => (\n          isLoggedIn() ? (\n            <Redirect to='/' />\n          ) : (\n              <Route path='/login' component={Login} />\n            )\n        )} />\n        <Route exact path='/register' component={Register} />\n        <Redirect to='/'/>\n      </Switch>\n  );\n};\n\nexport default withRouter(Routes);\n","import React, { useState } from 'react';\nimport { Router } from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\n\nimport StoreContext from './store';\nimport Routes from './Routes';\n\nexport const AppHistory = createBrowserHistory();\n\nexport default () => {\n\n\tconst [store, setContext] = useState({});\n\treturn (\n\t\t<StoreContext.Provider value={{store, setContext}}>\n\t\t\t<Router history={AppHistory}>\n        <Routes/>\n      </Router>\n\t\t</StoreContext.Provider>\n\t);\n}\n","import React from 'react';\nimport { render } from 'react-dom';\n\nimport './index.scss';\nimport App from './App';\n\nrender(<App />, document.getElementById('root'));\n"],"sourceRoot":""}