{"version":3,"sources":["store.js","components/Sidebar/Header.jsx","components/Sidebar/Footer.jsx","components/Sidebar/FriendsList.jsx","components/Sidebar/Chats.jsx","components/Sidebar/Settings.jsx","utils/socket.js","components/Sidebar/Sidebar.jsx","utils/api.js","components/Chat/ChatHeader.jsx","components/Chat/MsgForm.jsx","components/Chat/Conversation.jsx","components/Chat/NoChatSelected.jsx","components/Chat/Chat.jsx","pages/main/Main.jsx","pages/login/Login.jsx","pages/register/Register.jsx","Routes.jsx","App.jsx","index.js"],"names":["createContext","Header","_ref","activeTab","react_default","a","createElement","className","Footer","setActiveTab","concat","onClick","FriendsList","_useContext","useContext","Store","store","setContext","get","user","channels","friends","loadConversation","Object","asyncToGenerator","regenerator_default","mark","_callee","friend","channel","wrap","_context","prev","next","find","ch","participants","map","type","includes","_id","objectSpread","activeChannel","stop","this","_x","apply","arguments","id","key","firstName","lastName","Chats","Settings","logout","Socket","connect","console","log","io","process","query","Authorization","localStorage","getItem","Sidebar","_useState","useState","_useState2","slicedToArray","clear","window","location","reload","disconnect","API_URL","headers","api","endpoint","axios","then","response","lodashGet","catch","error","message","data","post","ChatHeader","_ref$friend","MsgForm","send","msg","setState","value","onChange","_ref2","target","onKeyPress","event","conversations","document","getElementsByClassName","scrollTo","top","scrollHeight","behavior","scrollBottom","Sent","Fragment","Replies","Conversation","p","messages","setMessages","useEffect","API","sent","Conversation_Sent","content","Conversation_Replies","push","emit","NoChatSelected","Chat","Main","shift","t0","loadInitials","createSocketConnection","Login","props","context","username","password","state","inputChanged","_objectSpread2","defineProperty","name","login","preventDefault","token","setItem","history","onSubmit","required","href","Register","email","register","AppHistory","placeholder","isLoggedIn","PrivateRoute","Component","component","rest","objectWithoutProperties","react_router","assign","render","to","pathname","from","withRouter","Routes_PrivateRoute","exact","path","createBrowserHistory","src_store","Provider","src_Routes","getElementById"],"mappings":"oPAIeA,kECFAC,EAAA,SAAAC,GAAiB,IAAfC,EAAeD,EAAfC,UACf,OAAOC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACpBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,YAAOH,IAETC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACbH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,wBCNJC,EAAA,SAAAN,GAAiC,IAA9BC,EAA8BD,EAA9BC,UAAWM,EAAmBP,EAAnBO,aAC3B,OAAOL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACpBH,EAAAC,EAAAC,cAAA,OAAKC,UAAS,eAAAG,OAA+B,aAAdP,EAA2B,SAAW,IAAMQ,QAAS,kBAAMF,EAAa,cACrGL,EAAAC,EAAAC,cAAA,KAAGC,UAAU,wBACbH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,eAAhB,aAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAS,eAAAG,OAA+B,UAAdP,EAAwB,SAAW,IAAMQ,QAAS,kBAAMF,EAAa,WAClGL,EAAAC,EAAAC,cAAA,KAAGC,UAAU,uBACbH,EAAAC,EAAAC,cAAA,sBAEFF,EAAAC,EAAAC,cAAA,OAAKC,UAAS,eAAAG,OAA+B,aAAdP,EAA2B,SAAW,IAAMQ,QAAS,kBAAMF,EAAa,cACrGL,EAAAC,EAAAC,cAAA,KAAGC,UAAU,eACbH,EAAAC,EAAAC,cAAA,kCCRSM,EAAA,WAAM,IAAAC,EACWC,qBAAWC,GAAjCC,EADWH,EACXG,MAAOC,EADIJ,EACJI,WAEf,IAAKC,cAAIF,EAAO,QAAS,OAAO,KAHb,IAKXG,EAAmBH,EAAnBG,KAAMC,EAAaJ,EAAbI,SACRC,EAAUF,EAAKE,SAAW,GAE1BC,EAAgB,eAAApB,EAAAqB,OAAAC,EAAA,EAAAD,CAAAE,EAAApB,EAAAqB,KAAG,SAAAC,EAAOC,GAAP,IAAAC,EAAA,OAAAJ,EAAApB,EAAAyB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,QACjBJ,EAAUK,eAAKd,EAAU,SAAAe,GAC7B,IAAMC,EAAeC,cAAInB,cAAIiB,EAAI,gBAAiB,OAClD,MAAmB,YAAZA,EAAGG,MAAsBF,EAAaG,SAASX,EAAOY,MAAQJ,EAAaG,SAASpB,EAAKqB,SAIhGvB,EAAWM,OAAAkB,EAAA,EAAAlB,CAAA,GACNP,EADK,CAER0B,cAAeb,KATI,wBAAAE,EAAAY,SAAAhB,EAAAiB,SAAH,gBAAAC,GAAA,OAAA3C,EAAA4C,MAAAF,KAAAG,YAAA,GAgBtB,OACE3C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAEbc,EAAQgB,IAAI,SAACT,EAAQoB,GAAT,OAAgB5C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OAAO0C,IAAKD,EAAIrC,QAAS,kBAAMW,EAAiBM,KACzFxB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,eAAAI,OAAUkB,EAAOsB,UAAU,GAA3B,KAAAxC,OAAiCkB,EAAOuB,SAAS,MAEnD/C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,YAAhB,GAAAG,OAA+BkB,EAAOsB,UAAtC,KAAAxC,OAAmDkB,EAAOuB,WAC1D/C,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aAAhB,yBAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAEXyC,EAAK,IAAM,EACT5C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACfH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBC3Cd6C,EAAA,kBAAMhD,EAAAC,EAAAC,cAAA,gCCAN+C,EAAA,SAAAnD,GAAgB,IAAboD,EAAapD,EAAboD,OAChB,OACElD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,2BAEFF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0BACbH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,KAAGC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,8BAGJF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,6BACbH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,KAAGC,UAAU,eACbH,EAAAC,EAAAC,cAAA,iCAIJF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBAAmBI,QAAS2C,GACzClD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,KAAGC,UAAU,wBACbH,EAAAC,EAAAC,cAAA,4CCvBRiD,EAAS,KAEAC,EAAU,WAUrB,OATKD,IACHE,QAAQC,IAAI,oCACZH,EAASI,IAAGH,QAAQI,0BAA2B,CAE7CC,MAAO,CACLC,cAAeC,aAAaC,QAAQ,aAInCT,GAGMC,MCPAS,UAAA,WAAM,IAAAC,EACeC,mBAAS,YADxBC,EAAA7C,OAAA8C,EAAA,EAAA9C,CAAA2C,EAAA,GACZ/D,EADYiE,EAAA,GACD3D,EADC2D,EAAA,GASnB,OAAOhE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACpBH,EAAAC,EAAAC,cAACL,EAAD,CAAQE,UAAWA,IACnBC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BAEG,aAAdJ,GAA4BC,EAAAC,EAAAC,cAACM,EAAD,MAGd,UAAdT,GAAyBC,EAAAC,EAAAC,cAAC8C,EAAD,MAGX,aAAdjD,GAA4BC,EAAAC,EAAAC,cAAC+C,EAAD,CAAUC,OAhB7B,WACbS,aAAaO,QACbC,OAAOC,SAASC,SAChBlB,IAASmB,iBAgBTtE,EAAAC,EAAAC,cAACE,EAAD,CAAQC,aAAcA,EAAcN,UAAWA,wBC9B7CwE,EAAUf,0BAEVgB,EAAU,WACd,IAAMA,EAAU,GAIhB,OAFIb,aAAaC,QAAQ,WAAUY,EAAO,cAAoBb,aAAaC,QAAQ,UAE5EY,GAgCMC,EAdI,SAACC,GAElB,OADArB,QAAQC,IAAR,QAAAhD,OAAoBoE,IACbC,IAAM7D,IAAN,GAAAR,OAAaiE,EAAb,KAAAjE,OAAwBoE,GAAY,CAAEF,QAASA,MACnDI,KAAK,SAAAC,GACJ,MAA2C,OAAvCC,cAAUD,EAAU,eACfC,cAAUD,EAAU,aAEtB,OACNE,MAAM,SAAAC,GAEP,MADYF,cAAUE,EAAO,sBAAuB,CAACC,QAAS,wBAKrDR,EA5BK,SAACC,EAAUQ,GAE7B,OADA7B,QAAQC,IAAR,SAAAhD,OAAqBoE,IACdC,IAAMQ,KAAN,GAAA7E,OAAciE,EAAd,KAAAjE,OAAyBoE,GAAYQ,EAAM,CAAEV,QAASA,MAC1DI,KAAK,SAAAC,GACJ,MAA2C,OAAvCC,cAAUD,EAAU,eACfC,cAAUD,EAAU,aAEtB,OACNE,MAAM,SAAAC,GAEP,MADYF,cAAUE,EAAO,sBAAuB,CAACC,QAAS,wBCpBrDG,EAAA,SAAAtF,GAAqB,IAAAuF,EAAAvF,EAAlB0B,cAAkB,IAAA6D,EAAT,GAASA,EAC1BvC,EAAwBtB,EAAxBsB,UAAWC,EAAavB,EAAbuB,SACnB,OAAO/C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACpBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,eAAAI,OAAUwC,EAAV,KAAAxC,OAAuByC,IACvB/C,EAAAC,EAAAC,cAAA,QAAMC,UAAU,iBAAhB,iBCINmF,EAAA,SAAexF,GAAc,IAAXyF,EAAWzF,EAAXyF,KAAWzB,EAEJC,mBAAS,IAFLC,EAAA7C,OAAA8C,EAAA,EAAA9C,CAAA2C,EAAA,GAErB0B,EAFqBxB,EAAA,GAEhByB,EAFgBzB,EAAA,GAc5B,OACChE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACXH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,eAAeuF,MAAOF,EAAKG,SAZ3B,SAAAC,GAAA,IAAaF,EAAbE,EAAGC,OAAUH,MAAb,OAA2BD,EAASC,IAYeI,WAV3D,SAACC,GACI,UAAdA,EAAMlD,MACN0C,EAAKC,GACRC,EAAS,IAhBS,WACpB,IAAMO,EAAgBC,SAASC,uBAAuB,gBAAgB,GACtEF,EAAcG,SAAS,CACtBC,IAAKJ,EAAcK,aACnBC,SAAU,WAaTC,SCZGC,EAAO,SAAA1G,GAAa,IAAV0F,EAAU1F,EAAV0F,IACd,OACExF,EAAAC,EAAAC,cAACF,EAAAC,EAAMwG,SAAP,KACEzG,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,KAAGC,UAAU,QAAQqF,MAMvBkB,EAAU,SAAAd,GAAa,IAAVJ,EAAUI,EAAVJ,IACjB,OACExF,EAAAC,EAAAC,cAACF,EAAAC,EAAMwG,SAAP,KACEzG,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,KAAGC,UAAU,SAASqF,MAOfmB,EAAA,WAAM,IACX/F,EAAUF,qBAAWC,GAArBC,MACAG,EAAwBH,EAAxBG,KAAMuB,EAAkB1B,EAAlB0B,cACRd,EAASc,EAAcN,aAAaF,KAAK,SAAA8E,GAAC,OAAIA,EAAExE,MAAQrB,EAAKqB,MAHhD0B,EAIaC,mBAAS,IAJtBC,EAAA7C,OAAA8C,EAAA,EAAA9C,CAAA2C,EAAA,GAIZ+C,EAJY7C,EAAA,GAIF8C,EAJE9C,EAAA,GAMnB+C,oBAAS5F,OAAAC,EAAA,EAAAD,CAAAE,EAAApB,EAAAqB,KAAC,SAAAC,IAAA,IAAAsF,EAAA,OAAAxF,EAAApB,EAAAyB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAEemF,EAAA,YAAA1G,OAAoBgC,EAAcF,IAAlC,cAFf,OAEFyE,EAFElF,EAAAsF,KAIRH,EAAYD,GAJJ,wBAAAlF,EAAAY,SAAAhB,EAAAiB,SAKP,CAACF,EAAcF,MAQlB,OACEpC,EAAAC,EAAAC,cAACF,EAAAC,EAAMwG,SAAP,KACEzG,EAAAC,EAAAC,cAACkF,EAAD,CAAY5D,OAAQA,IACpBxB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,UACG2G,EAAS5E,IAAI,SAACuD,EAAK5C,GAClB,OACEA,EAAK,IAAM,EAAI5C,EAAAC,EAAAC,cAACgH,EAAD,CAAM1B,IAAKA,EAAI2B,QAAStE,IAAKD,IAAS5C,EAAAC,EAAAC,cAACkH,EAAD,CAAS5B,IAAKA,EAAI2B,QAAStE,IAAKD,QAK7F5C,EAAAC,EAAAC,cAACoF,EAAD,CAASC,KAlBO,SAAAC,GAClBqB,EAASQ,KAAK,CAACF,QAAS3B,IACxBsB,EAAYD,GACZ1D,EAAOmE,KAAK,eAAgB,CAAC9B,aC5ClB+B,EAAA,WACb,OAAOvH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBAAf,4CCMMqH,UAAA,WAAM,IACX5G,EAAUF,qBAAWC,GAArBC,MAER,OAAOZ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAElBS,EAAM0B,cAAgBtC,EAAAC,EAAAC,cAACyG,EAAD,MAAmB3G,EAAAC,EAAAC,cAACqH,EAAD,SCPhCE,UAAA,WAAM,IAAAhH,EACWC,qBAAWC,GAAjCC,EADWH,EACXG,MAAOC,EADIJ,EACJI,WAqBf,OAnBkB,eAAAf,EAAAqB,OAAAC,EAAA,EAAAD,CAAAE,EAAApB,EAAAqB,KAAG,SAAAC,IAAA,IAAAR,EAAAC,EAAA,OAAAK,EAAApB,EAAAyB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,UACdjB,EAAMG,MAASH,EAAMI,SADP,CAAAW,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGKmF,EAAQ,SAHb,cAGTjG,EAHSY,EAAAsF,KAGuBS,QAHvB/F,EAAAE,KAAA,EAIQmF,EAAQ,YAJhB,OAIThG,EAJSW,EAAAsF,KAKfpG,EAAWM,OAAAkB,EAAA,EAAAlB,CAAA,GACNP,EADK,CAERG,OACAC,cARaW,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAgG,GAAAhG,EAAA,SAWf0B,QAAQC,IAAI,4CAA6C3B,EAAAgG,GAAM1C,SAXhD,yBAAAtD,EAAAY,SAAAhB,EAAAiB,KAAA,aAAH,yBAAA1C,EAAA4C,MAAAF,KAAAG,YAAA,EAgBlBiF,GACAC,IAEO7H,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACpBH,EAAAC,EAAAC,cAAC2D,EAAD,MACA7D,EAAAC,EAAAC,cAACsH,EAAD,iCCzBWM,UAAA,SAACC,EAAOC,GAAY,IAAAlE,EACPC,mBAAS,CACjCiB,OAAO,EACPiD,SAAUnH,IAAIiH,EAAO,0BAA2B,IAChDG,SAAU,KAJqBlE,EAAA7C,OAAA8C,EAAA,EAAA9C,CAAA2C,EAAA,GAC1BqE,EAD0BnE,EAAA,GACnByB,EADmBzB,EAAA,GAM3BoE,EAAe,SAAAtI,GAAgB,IAAAuI,EAAbxC,EAAa/F,EAAb+F,OACtBJ,EAAStE,OAAAkB,EAAA,EAAAlB,CAAA,GACJgH,GADGE,EAAA,GAAAlH,OAAAmH,EAAA,EAAAnH,CAAAkH,EAELxC,EAAO0C,KAAO1C,EAAOH,OAFhBvE,OAAAmH,EAAA,EAAAnH,CAAAkH,EAAA,QAGC,IAHDA,MAOJG,EAAK,eAAA5C,EAAAzE,OAAAC,EAAA,EAAAD,CAAAE,EAAApB,EAAAqB,KAAG,SAAAC,EAAOwE,GAAP,IAAAkC,EAAAC,EAAAhD,EAAA,OAAA7D,EAAApB,EAAAyB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACZkE,EAAM0C,iBACER,EAAuBE,EAAvBF,SAAUC,EAAaC,EAAbD,SAFNvG,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAISmF,EAAS,aAAc,CACxCiB,WACAC,aANQ,QAIJhD,EAJIvD,EAAAsF,OAQE/B,EAAKwD,QACf/E,aAAagF,QAAQ,QAASzD,EAAKwD,OACnCX,EAAMa,QAAQvB,KAAK,MAVX1F,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAgG,GAAAhG,EAAA,SAaV8D,EAAStE,OAAAkB,EAAA,EAAAlB,CAAA,GACJgH,EADG,CAENnD,MAAOrD,EAAAgG,GAAM1C,WAfL,yBAAAtD,EAAAY,SAAAhB,EAAAiB,KAAA,YAAH,gBAAAC,GAAA,OAAAmD,EAAAlD,MAAAF,KAAAG,YAAA,GAmBX,OACE3C,EAAAC,EAAAC,cAAA,QAAM2I,SAAUL,GACdxI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,WAAd,UAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAW,2BAA8BgI,EAAMnD,MAA6B,GAArB,sBAC1DhF,EAAAC,EAAAC,cAAA,YAAOiI,EAAMnD,QAEfhF,EAAAC,EAAAC,cAAA,SAAOgC,KAAK,OAAO/B,UAAU,wBAAwBoI,KAAK,WAAW3F,GAAG,WAAW8C,MAAOyC,EAAMF,SAAUtC,SAAUyC,EAAcU,UAAQ,IAC1I9I,EAAAC,EAAAC,cAAA,SAAOgC,KAAK,WAAW/B,UAAU,wBAAwBoI,KAAK,WAAW3F,GAAG,WAAW8C,MAAOyC,EAAMD,SAAUvC,SAAUyC,EAAcU,UAAQ,IAE9I9I,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,UAAQgC,KAAK,SAAS/B,UAAU,iBAAhC,UAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BACbH,EAAAC,EAAAC,cAAA,0CAAiCF,EAAAC,EAAAC,cAAA,KAAG6I,KAAK,aAAR,qBClD5BC,EAAA,SAACjB,EAAOC,GAAY,IAAAlE,EACPC,mBAAS,CACjCiB,MAAO,GACPlC,UAAW,GACXC,SAAU,GACVkG,MAAO,GACPf,SAAU,KANqBlE,EAAA7C,OAAA8C,EAAA,EAAA9C,CAAA2C,EAAA,GAC1BqE,EAD0BnE,EAAA,GACnByB,EADmBzB,EAAA,GAQ3BoE,EAAe,SAAAtI,GAAgB,IAAAuI,EAAbxC,EAAa/F,EAAb+F,OACtBJ,EAAStE,OAAAkB,EAAA,EAAAlB,CAAA,GACJgH,GADGE,EAAA,GAAAlH,OAAAmH,EAAA,EAAAnH,CAAAkH,EAELxC,EAAO0C,KAAO1C,EAAOH,OAFhBvE,OAAAmH,EAAA,EAAAnH,CAAAkH,EAAA,QAGC,IAHDA,MAOJa,EAAQ,eAAAtD,EAAAzE,OAAAC,EAAA,EAAAD,CAAAE,EAAApB,EAAAqB,KAAG,SAAAC,EAAOwE,GAAP,IAAAjD,EAAAC,EAAAkG,EAAAf,EAAAhD,EAAA,OAAA7D,EAAApB,EAAAyB,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACfkE,EAAM0C,iBACE3F,EAAyCqF,EAAzCrF,UAAWC,EAA8BoF,EAA9BpF,SAAUkG,EAAoBd,EAApBc,MAAOf,EAAaC,EAAbD,SAFrBvG,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAIMmF,EAAS,gBAAiB,CAC3ClE,YACAC,WACAkG,QACAf,aARW,OAIPhD,EAJOvD,EAAAsF,KAUbkC,EAAW9B,KAAK,SAAU,CAACY,SAAU/C,EAAK+C,WAV7BtG,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAgG,GAAAhG,EAAA,SAYb8D,EAAStE,OAAAkB,EAAA,EAAAlB,CAAA,GACJgH,EADG,CAENnD,MAAOrD,EAAAgG,GAAM1C,WAdF,yBAAAtD,EAAAY,SAAAhB,EAAAiB,KAAA,YAAH,gBAAAC,GAAA,OAAAmD,EAAAlD,MAAAF,KAAAG,YAAA,GAkBd,OACE3C,EAAAC,EAAAC,cAAA,QAAM2I,SAAUK,GACdlJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,WAAd,WAEFH,EAAAC,EAAAC,cAAA,OAAKC,UAAW,2BAA8BgI,EAAMnD,MAA6B,GAArB,sBAC1DhF,EAAAC,EAAAC,cAAA,YAAOiI,EAAMnD,QAEfhF,EAAAC,EAAAC,cAAA,SAAOgC,KAAK,OAAO/B,UAAU,wBAAwBiJ,YAAY,aAAab,KAAK,YAAY3F,GAAG,YAAY8C,MAAOyC,EAAMrF,UAAW6C,SAAUyC,EAAcU,UAAQ,IACtK9I,EAAAC,EAAAC,cAAA,SAAOgC,KAAK,OAAO/B,UAAU,wBAAwBiJ,YAAY,YAAYb,KAAK,WAAW3F,GAAG,WAAW8C,MAAOyC,EAAMpF,SAAU4C,SAAUyC,EAAcU,UAAQ,IAClK9I,EAAAC,EAAAC,cAAA,SAAOgC,KAAK,OAAO/B,UAAU,wBAAwBiJ,YAAY,QAAQb,KAAK,QAAQ3F,GAAG,QAAQ8C,MAAOyC,EAAMc,MAAOtD,SAAUyC,EAAcU,UAAQ,IACrJ9I,EAAAC,EAAAC,cAAA,SAAOgC,KAAK,WAAW/B,UAAU,wBAAwBiJ,YAAY,WAAWb,KAAK,WAAW3F,GAAG,WAAW8C,MAAOyC,EAAMD,SAAUvC,SAAUyC,EAAcU,UAAQ,IAErK9I,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,UAAQgC,KAAK,SAAS/B,UAAU,iBAAhC,eCjDJkJ,EAAa,kBAAM1F,aAAaC,QAAQ,UAExC0F,EAAe,SAAAxJ,GAAuC,IAAzByJ,EAAyBzJ,EAApC0J,UAAyBC,EAAWtI,OAAAuI,EAAA,EAAAvI,CAAArB,EAAA,eAC1D,OACEE,EAAAC,EAAAC,cAACyJ,EAAA,EAADxI,OAAAyI,OAAA,GACMH,EADN,CAEEI,OAAQ,SAAA9B,GAAK,OACXsB,IACErJ,EAAAC,EAAAC,cAACqJ,EAAcxB,GAEb/H,EAAAC,EAAAC,cAACyJ,EAAA,EAAD,CACEG,GAAI,CACFC,SAAU,SACV5B,MAAO,CAAE6B,KAAMjC,EAAM3D,kBAiCtB6F,cAxBA,WACb,OACIjK,EAAAC,EAAAC,cAACyJ,EAAA,EAAD,KACE3J,EAAAC,EAAAC,cAACgK,EAAD,CAAcV,UAAW/B,EAAM0C,OAAK,EAACC,KAAK,MAC1CpK,EAAAC,EAAAC,cAACyJ,EAAA,EAAD,CAAOQ,OAAK,EAACC,KAAK,IAAIP,OAAQ,kBAC5BR,IACErJ,EAAAC,EAAAC,cAACyJ,EAAA,EAAD,CAAUG,GAAG,MAEX9J,EAAAC,EAAAC,cAACyJ,EAAA,EAAD,CAAUG,GAAG,cAGnB9J,EAAAC,EAAAC,cAACyJ,EAAA,EAAD,CAAOQ,OAAK,EAACC,KAAK,SAASP,OAAQ,kBACjCR,IACErJ,EAAAC,EAAAC,cAACyJ,EAAA,EAAD,CAAUG,GAAG,MAEX9J,EAAAC,EAAAC,cAACyJ,EAAA,EAAD,CAAOS,KAAK,SAASZ,UAAW1B,OAGtC9H,EAAAC,EAAAC,cAACyJ,EAAA,EAAD,CAAOQ,OAAK,EAACC,KAAK,YAAYZ,UAAWR,IACzChJ,EAAAC,EAAAC,cAACyJ,EAAA,EAAD,CAAUG,GAAG,SCvCRX,EAAakB,cCD1BR,iBAAO7J,EAAAC,EAAAC,cDGQ,WAAM,IAAA4D,EAEQC,mBAAS,IAFjBC,EAAA7C,OAAA8C,EAAA,EAAA9C,CAAA2C,EAAA,GAEblD,EAFaoD,EAAA,GAENnD,EAFMmD,EAAA,GAGpB,OACChE,EAAAC,EAAAC,cAACoK,EAAaC,SAAd,CAAuB7E,MAAO,CAAC9E,QAAOC,eACrCb,EAAAC,EAAAC,cAACyJ,EAAA,EAAD,CAAQf,QAASO,GACZnJ,EAAAC,EAAAC,cAACsK,EAAD,SCTD,MAASvE,SAASwE,eAAe","file":"static/js/main.a0b0366e.chunk.js","sourcesContent":["import { createContext } from 'react';\n\n\n\nexport default createContext();\n","import React from 'react';\n\nexport default ({activeTab}) => {\n  return <div className='header'>\n    <div className='header-text'>\n      <span>{activeTab}</span>\n  </div>\n    <div className='header-add-user'>\n      <i className=\"fas fa-user-plus\"></i>\n    </div>\n\n  </div>\n}\n","import React from 'react';\n\nexport default ({ activeTab, setActiveTab }) => {\n  return <div className=\"footer\">\n    <div className={`footer-item ${activeTab === 'Contacts' ? 'active' : ''}`} onClick={() => setActiveTab('Contacts')}>\n      <i className=\"fas fa-user-friends\"></i>\n      <span className=\"text-center\">Contacts</span>\n    </div>\n    <div className={`footer-item ${activeTab === 'Chats' ? 'active' : ''}`} onClick={() => setActiveTab('Chats')}>\n      <i className=\"fas fa-comment-alt\"></i>\n      <span>Chats</span>\n    </div>\n    <div className={`footer-item ${activeTab === 'Settings' ? 'active' : ''}`} onClick={() => setActiveTab('Settings')}>\n      <i className=\"fas fa-cog\"></i>\n      <span>Settings</span>\n    </div>\n  </div>\n}\n","import React, { useContext } from 'react';\nimport { find, get, map } from 'lodash';\n\nimport Store from '../../store';\n// import API from '../../utils/api';\n\nexport default () => {\n  const { store, setContext } = useContext(Store);\n\n  if (!get(store, 'user')) return null;\n\n  const { user, channels } = store;\n  const friends = user.friends || [];\n\n  const loadConversation = async (friend) => {\n    const channel = find(channels, ch => {\n      const participants = map(get(ch, 'participants'), '_id');\n      return ch.type === 'PRIVATE' && participants.includes(friend._id) && participants.includes(user._id);\n    });\n\n    if (channel) {\n      setContext({\n        ...store,\n        activeChannel: channel\n      });\n    //   const messages = await API.get(`channels/${channel._id}/messages`);\n    //   messages.forEach(m => console.log(m.content))\n    }\n  };\n\n  return (\n    <div className=\"friend-list\">\n    {\n      friends.map((friend, id) => <div className=\"user\" key={id} onClick={() => loadConversation(friend)}>\n        <div className=\"profile-pic\">\n          <span>{`${friend.firstName[0]} ${friend.lastName[0]}`}</span>\n        </div>\n        <div className=\"user-detail\">\n          <span className=\"username\">{`${friend.firstName} ${friend.lastName}`}</span>\n          <span className=\"last-seen\">Seen a long time ago</span>\n        </div>\n        <div className=\"online-status\">\n          {\n            id % 2 === 0 ?\n              <div className=\"online\"></div> :\n              <div className=\"offline\"></div>\n          }\n        </div>\n      </div>)\n    }\n  </div>\n  );\n}\n\n","import React from 'react';\n\nexport default () => <h4>Not Impelented !!</h4>\n","import React from 'react';\n\nexport default ({ logout }) => {\n  return (\n    <div className=\"settings\">\n      <div className=\"header-text\">\n        <span>My Account</span>\n      </div>\n      <div className=\"settings-menu\">\n        <div className=\"menu-item edit-profile\">\n          <div>\n            <i className=\"fas fa-user\"></i>\n            <span>Edit Profile</span>\n          </div>\n        </div>\n        <div className=\"menu-item change-password\">\n          <div>\n            <i className=\"fas fa-key\"></i>\n            <span>Change Password</span>\n          </div>\n        </div>\n\n        <div className=\"menu-item logout\" onClick={logout}>\n          <div>\n            <i className=\"fas fa-sign-out-alt\"></i>\n            <span>Logout</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import io from 'socket.io-client';\n\nlet Socket = null;\n\nexport const connect = () => {\n  if (!Socket) {\n    console.log('Establishing socket connection..');\n    Socket = io.connect(process.env.REACT_APP_API, {\n      // transports: ['websocket'],\n      query: {\n        Authorization: localStorage.getItem('TOKEN')\n      },\n    });\n  }\n  return Socket;\n};\n\nexport default connect();\n","import React, { useState } from 'react';\n\nimport Header from './Header';\nimport Footer from './Footer';\nimport FriendsList from './FriendsList';\nimport Chats from './Chats';\nimport Settings from './Settings';\nimport Socket from '../../utils/socket';\nimport './sidebar.scss';\n\nexport default () => {\n  const [activeTab, setActiveTab] = useState('Contacts');\n\n  const logout = () => {\n    localStorage.clear();\n    window.location.reload();\n    Socket().disconnect();\n  };\n\n  return <div className=\"sidebar\">\n    <Header activeTab={activeTab}/>\n    <div className=\"sidebar-dynamic-content\">\n      {\n        activeTab === 'Contacts' && <FriendsList />\n      }\n      {\n        activeTab === 'Chats' && <Chats />\n      }\n      {\n        activeTab === 'Settings' && <Settings logout={logout}/>\n      }\n    </div>\n    <Footer setActiveTab={setActiveTab} activeTab={activeTab} />\n  </div>\n}\n","import axios from 'axios';\nimport { get as lodashGet } from 'lodash';\nconst API_URL = process.env.REACT_APP_API || 'http://localhost:3030';\n\nconst headers = () => {\n  const headers = {};\n\n  if (localStorage.getItem('TOKEN')) headers['Authorization'] = localStorage.getItem('TOKEN');\n\n  return headers;\n\n}\n\nexport const post = (endpoint, data) => {\n  console.log(`POST /${endpoint}`);\n  return axios.post(`${API_URL}/${endpoint}`, data, { headers: headers() })\n    .then(response => {\n      if (lodashGet(response, 'data.status') === 'OK') {\n        return lodashGet(response, 'data.data');\n      }\n      return null;\n    }).catch(error => {\n      const err = lodashGet(error, 'response.data.error', {message: 'Unknown Error !!'});\n      throw err;\n    });\n};\n\nexport const get = (endpoint) => {\n  console.log(`GET /${endpoint}`);\n  return axios.get(`${API_URL}/${endpoint}`, { headers: headers() })\n    .then(response => {\n      if (lodashGet(response, 'data.status') === 'OK') {\n        return lodashGet(response, 'data.data');\n      }\n      return null;\n    }).catch(error => {\n      const err = lodashGet(error, 'response.data.error', {message: 'Unknown Error !!'});\n      throw err;\n    });\n};\n\nexport default {\n  get,\n  post\n};\n","import React from 'react';\n\nexport default ({ friend = {} }) => {\n  const { firstName, lastName } = friend;\n  return <div className='chat-header'>\n    <div className='chatting-with'>\n      <span>{`${firstName} ${lastName}`}</span>\n      <span className=\"online-status\">Active now</span>\n  </div>\n  </div>\n}\n","import React, { useState } from 'react';\n\n// import Store from '../../store';\n\nconst scrollBottom = () => {\n\tconst conversations = document.getElementsByClassName('conversation')[0];\n\tconversations.scrollTo({\n\t\ttop: conversations.scrollHeight,\n\t\tbehavior: 'smooth',\n\t});\n};\nexport default ({ send }) => {\n\t// const { store, setContext } = useContext(Store);\n\tconst [msg, setState] = useState('');\n\n  const inputChanged = ({ target: { value } }) => setState(value);\n\n\tconst _send = (event) => {\n\t\tif (event.key === 'Enter') {\n      send(msg);\n\t\t\tsetState('');\n\t\t\tscrollBottom();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"msg-form\">\n      <input className=\"form-control\" value={msg} onChange={inputChanged} onKeyPress={_send}></input>\n    </div>\n\t)\n}\n","import React, { useContext, useEffect, useState } from 'react';\n\nimport Store from '../../store';\nimport API from '../../utils/api';\nimport Socket from '../../utils/socket';\n\nimport ChatHeader from './ChatHeader';\nimport MsgForm from './MsgForm';\n\nconst Sent = ({ msg }) => {\n  return (\n    <React.Fragment>\n      <li>\n        <p className=\"sent\">{msg}</p>\n      </li>\n    </React.Fragment>\n  )\n};\n\nconst Replies = ({ msg }) => {\n  return (\n    <React.Fragment>\n      <li>\n        <p className=\"reply\">{msg}</p>\n      </li>\n    </React.Fragment>\n  )\n};\n\n\nexport default () => {\n  const { store } = useContext(Store);\n  const { user, activeChannel } = store;\n  const friend = activeChannel.participants.find(p => p._id !== user._id);\n  const [messages, setMessages] = useState([]);\n\n  useEffect(async () => {\n    // active channel changed, subscribe to channel and receive all messages\n    const messages = await API.get(`channels/${activeChannel._id}/messages`);\n\n    setMessages(messages);\n  }, [activeChannel._id]);\n\n  const sendMessage = msg => {\n    messages.push({content: msg});\n    setMessages(messages);\n    Socket.emit('SEND_MESSAGE', {msg});\n  };\n\n  return (\n    <React.Fragment>\n      <ChatHeader friend={friend} />\n      <div className=\"conversation\">\n        <ul>\n          {messages.map((msg, id) => {\n            return (\n              id % 2 === 0 ? <Sent msg={msg.content} key={id} /> : <Replies msg={msg.content} key={id} />\n            );\n          })}\n        </ul>\n      </div>\n      <MsgForm send={sendMessage}/>\n    </React.Fragment>\n  )\n}\n","import React from 'react';\n\nexport default () => {\n  return <div className=\"no-chat-selected\">\n      Please select a chat to start messaging\n    </div>\n}\n","import React, { useContext } from 'react';\n\nimport Store from '../../store';\n\nimport Conversation from './Conversation';\nimport NoChatSelected from './NoChatSelected';\n\nimport './chat.scss';\n\nexport default () => {\n  const { store } = useContext(Store);\n\n  return <div className=\"chat\">\n    {\n      store.activeChannel ? <Conversation /> : <NoChatSelected/>\n    }\n  </div>\n}\n","import React, { useContext } from 'react';\n\nimport Store from '../../store';\nimport { Sidebar, Chat } from '../../components';\nimport API from '../../utils/api';\nimport { connect as createSocketConnection } from '../../utils/socket';\n\nexport default () => {\n  const { store, setContext } = useContext(Store);\n\n  const loadInitials = async () => {\n    if (!store.user && !store.channels) {\n      try {\n        const user = (await API.get('users')).shift();\n        const channels = await API.get('channels');\n        setContext({\n          ...store,\n          user,\n          channels\n        });\n      } catch (error) {\n        console.log('Error retreiving initial user information', error.message);\n      }\n    }\n  }\n\n  loadInitials();\n  createSocketConnection();\n\n  return <div className=\"main\">\n    <Sidebar></Sidebar>\n    <Chat></Chat>\n  </div>\n};\n","import React, { useState } from 'react';\nimport get from 'lodash/get';\n\nimport API from '../../utils/api';\nimport './login.scss';\n\nexport default (props, context) => {\n  const [state, setState] = useState({\n    error: false,\n    username: get(props, 'location.state.username', ''),\n    password: ''\n  });\n  const inputChanged = ({ target }) => {\n    setState({\n      ...state,\n      [target.name]: target.value,\n      error: ''\n    });\n  }\n\n  const login = async (event) => {\n    event.preventDefault();\n    const { username, password } = state;\n    try {\n      const data = await API.post('auth/login', {\n        username,\n        password\n      });\n      if (data && data.token) {\n        localStorage.setItem('TOKEN', data.token);\n        props.history.push('/');\n      }\n    } catch (error) {\n      setState({\n        ...state,\n        error: error.message\n      });\n    }\n  }\n  return (\n    <form onSubmit={login}>\n      <div className=\"login-container\">\n        <div className=\"text-center\">\n          <h2 className=\"heading\">Login</h2>\n        </div>\n        <div className={\"text-center error-text \" + (!state.error ? 'visibility-hidden': '')}>\n          <span>{state.error}</span>\n        </div>\n        <input type=\"text\" className=\"form-control col-sm-9\" name=\"username\" id=\"username\" value={state.username} onChange={inputChanged} required />\n        <input type=\"password\" className=\"form-control col-sm-9\" name=\"password\" id=\"password\" value={state.password} onChange={inputChanged} required />\n\n        <div className=\"text-center\">\n          <button type=\"submit\" className=\"btn login-btn\">Login</button>\n        </div>\n        <div className=\"text-center signup-text\">\n          <span>Don't have an account yet? <a href=\"/register\">Create here</a></span>\n        </div>\n      </div>\n    </form>\n  );\n}\n","import React, { useState } from 'react';\n\nimport API from '../../utils/api';\nimport { AppHistory } from '../../App';\n\nexport default (props, context) => {\n  const [state, setState] = useState({\n    error: '',\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: ''\n  });\n  const inputChanged = ({ target }) => {\n    setState({\n      ...state,\n      [target.name]: target.value,\n      error: ''\n    });\n  }\n\n  const register = async (event) => {\n    event.preventDefault();\n    const { firstName, lastName, email, password } = state;\n    try {\n      const data = await API.post('auth/register', {\n        firstName,\n        lastName,\n        email,\n        password\n      });\n      AppHistory.push('/login', {username: data.username});\n    } catch (error) {\n      setState({\n        ...state,\n        error: error.message\n      });\n    }\n  }\n  return (\n    <form onSubmit={register}>\n      <div className=\"login-container\">\n        <div className=\"text-center\">\n          <h2 className=\"heading\">Signup</h2>\n        </div>\n        <div className={\"text-center error-text \" + (!state.error ? 'visibility-hidden': '')}>\n          <span>{state.error}</span>\n        </div>\n        <input type=\"text\" className=\"form-control col-sm-9\" placeholder=\"First Name\" name=\"firstName\" id=\"firstName\" value={state.firstName} onChange={inputChanged} required />\n        <input type=\"text\" className=\"form-control col-sm-9\" placeholder=\"Last Name\" name=\"lastName\" id=\"lastName\" value={state.lastName} onChange={inputChanged} required />\n        <input type=\"text\" className=\"form-control col-sm-9\" placeholder=\"Email\" name=\"email\" id=\"email\" value={state.email} onChange={inputChanged} required />\n        <input type=\"password\" className=\"form-control col-sm-9\" placeholder=\"Password\" name=\"password\" id=\"password\" value={state.password} onChange={inputChanged} required />\n\n        <div className=\"text-center\">\n          <button type=\"submit\" className=\"btn login-btn\">Sign up</button>\n        </div>\n      </div>\n    </form>\n  );\n}\n","import React from 'react';\nimport { Route, Switch, withRouter, Redirect,  } from 'react-router-dom';\n\nimport { Main, Login, Register } from './pages';\n\nconst isLoggedIn = () => localStorage.getItem('TOKEN');\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        isLoggedIn() ? (\n          <Component {...props} />\n        ) : (\n            <Redirect\n              to={{\n                pathname: '/login',\n                state: { from: props.location }\n              }}\n            />\n          )\n      }\n    />\n  );\n};\n\nconst Routes = () => {\n  return (\n      <Switch>\n        <PrivateRoute component={Main} exact path='/' />\n        <Route exact path='/' render={() => (\n          isLoggedIn() ? (\n            <Redirect to='/' />\n          ) : (\n              <Redirect to='/login' />\n            )\n        )} />\n        <Route exact path='/login' render={() => (\n          isLoggedIn() ? (\n            <Redirect to='/' />\n          ) : (\n              <Route path='/login' component={Login} />\n            )\n        )} />\n        <Route exact path='/register' component={Register} />\n        <Redirect to='/'/>\n      </Switch>\n  );\n};\n\nexport default withRouter(Routes);\n","import React, { useState } from 'react';\nimport { Router } from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\n\nimport StoreContext from './store';\nimport Routes from './Routes';\n\nexport const AppHistory = createBrowserHistory();\n\nexport default () => {\n\n\tconst [store, setContext] = useState({});\n\treturn (\n\t\t<StoreContext.Provider value={{store, setContext}}>\n\t\t\t<Router history={AppHistory}>\n        <Routes/>\n      </Router>\n\t\t</StoreContext.Provider>\n\t);\n}\n","import React from 'react';\nimport { render } from 'react-dom';\n\nimport './index.scss';\nimport App from './App';\n\nrender(<App />, document.getElementById('root'));\n"],"sourceRoot":""}