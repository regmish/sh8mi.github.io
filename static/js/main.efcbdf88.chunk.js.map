{"version":3,"sources":["store.js","components/Sidebar/Header.jsx","components/Sidebar/Footer.jsx","components/Sidebar/FriendsList.jsx","components/Sidebar/Chats.jsx","components/Sidebar/Settings.jsx","components/Sidebar/Sidebar.jsx","utils/api.js","components/Chat/ChatHeader.jsx","components/Chat/MsgForm.jsx","components/Chat/Conversation.jsx","components/Chat/NoChatSelected.jsx","components/Chat/Chat.jsx","pages/main/Main.jsx","utils/socket.js","pages/login/Login.jsx","pages/register/Register.jsx","Routes.jsx","App.jsx","index.js"],"names":["createContext","Header","_ref","activeTab","react_default","a","createElement","className","Footer","setActiveTab","concat","onClick","FriendsList","_useContext","useContext","Store","store","setContext","get","user","channels","friends","loadConversation","Object","asyncToGenerator","regenerator_default","mark","_callee","friend","channel","wrap","_context","prev","next","find","ch","participants","map","type","includes","_id","objectSpread","activeChannel","stop","this","_x","apply","arguments","id","key","firstName","lastName","Chats","Settings","logout","Sidebar","_useState","useState","_useState2","slicedToArray","localStorage","clear","Socket","disconnect","window","location","reload","API_URL","process","headers","getItem","api","endpoint","console","log","axios","then","response","lodashGet","catch","error","message","data","post","ChatHeader","_ref$friend","MsgForm","send","msg","setState","value","onChange","_ref2","target","onKeyPress","event","conversations","document","getElementsByClassName","scrollTo","top","scrollHeight","behavior","scrollBottom","Sent","Fragment","content","Replies","Conversation","messages","setMessages","p","IO","useEffect","API","sent","emit","on","from","push","Conversation_Sent","Conversation_Replies","NoChatSelected","Chat","Main","shift","io","connect","query","Authorization","Login","props","context","username","password","state","inputChanged","_objectSpread2","defineProperty","name","login","preventDefault","token","setItem","history","t0","onSubmit","required","href","Register","email","register","AppHistory","placeholder","isLoggedIn","PrivateRoute","Component","component","rest","objectWithoutProperties","react_router","assign","render","to","pathname","withRouter","Routes_PrivateRoute","exact","path","createBrowserHistory","src_store","Provider","src_Routes","getElementById"],"mappings":"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","file":"static/js/main.efcbdf88.chunk.js","sourcesContent":["import { createContext } from 'react';\n\n\n\nexport default createContext();\n","import React from 'react';\n\nexport default ({activeTab}) => {\n  return <div className='header'>\n    <div className='header-text'>\n      <span>{activeTab}</span>\n  </div>\n    <div className='header-add-user'>\n      <i className=\"fas fa-user-plus\"></i>\n    </div>\n\n  </div>\n}\n","import React from 'react';\n\nexport default ({ activeTab, setActiveTab }) => {\n  return <div className=\"footer\">\n    <div className={`footer-item ${activeTab === 'Contacts' ? 'active' : ''}`} onClick={() => setActiveTab('Contacts')}>\n      <i className=\"fas fa-user-friends\"></i>\n      <span className=\"text-center\">Contacts</span>\n    </div>\n    <div className={`footer-item ${activeTab === 'Chats' ? 'active' : ''}`} onClick={() => setActiveTab('Chats')}>\n      <i className=\"fas fa-comment-alt\"></i>\n      <span>Chats</span>\n    </div>\n    <div className={`footer-item ${activeTab === 'Settings' ? 'active' : ''}`} onClick={() => setActiveTab('Settings')}>\n      <i className=\"fas fa-cog\"></i>\n      <span>Settings</span>\n    </div>\n  </div>\n}\n","import React, { useContext } from 'react';\nimport { find, get, map } from 'lodash';\n\nimport Store from '../../store';\n// import API from '../../utils/api';\n\nexport default () => {\n  const { store, setContext } = useContext(Store);\n\n  if (!get(store, 'user')) return null;\n\n  const { user, channels } = store;\n  const friends = user.friends || [];\n\n  const loadConversation = async (friend) => {\n    const channel = find(channels, ch => {\n      const participants = map(get(ch, 'participants'), '_id');\n      return ch.type === 'PRIVATE' && participants.includes(friend._id) && participants.includes(user._id);\n    });\n\n    if (channel) {\n      setContext({\n        ...store,\n        activeChannel: channel\n      });\n    //   const messages = await API.get(`channels/${channel._id}/messages`);\n    //   messages.forEach(m => console.log(m.content))\n    }\n  };\n\n  return (\n    <div className=\"friend-list\">\n    {\n      friends.map((friend, id) => <div className=\"user\" key={id} onClick={() => loadConversation(friend)}>\n        <div className=\"profile-pic\">\n          <span>{`${friend.firstName[0]} ${friend.lastName[0]}`}</span>\n        </div>\n        <div className=\"user-detail\">\n          <span className=\"username\">{`${friend.firstName} ${friend.lastName}`}</span>\n          <span className=\"last-seen\">Seen a long time ago</span>\n        </div>\n        <div className=\"online-status\">\n          {\n            id % 2 === 0 ?\n              <div className=\"online\"></div> :\n              <div className=\"offline\"></div>\n          }\n        </div>\n      </div>)\n    }\n  </div>\n  );\n}\n\n","import React from 'react';\n\nexport default () => <h4>Not Impelented !!</h4>\n","import React from 'react';\n\nexport default ({ logout }) => {\n  return (\n    <div className=\"settings\">\n      <div className=\"header-text\">\n        <span>My Account</span>\n      </div>\n      <div className=\"settings-menu\">\n        <div className=\"menu-item edit-profile\">\n          <div>\n            <i className=\"fas fa-user\"></i>\n            <span>Edit Profile</span>\n          </div>\n        </div>\n        <div className=\"menu-item change-password\">\n          <div>\n            <i className=\"fas fa-key\"></i>\n            <span>Change Password</span>\n          </div>\n        </div>\n\n        <div className=\"menu-item logout\" onClick={logout}>\n          <div>\n            <i className=\"fas fa-sign-out-alt\"></i>\n            <span>Logout</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useContext } from 'react';\n\nimport Store from '../../store';\n\nimport Header from './Header';\nimport Footer from './Footer';\nimport FriendsList from './FriendsList';\nimport Chats from './Chats';\nimport Settings from './Settings';\nimport './sidebar.scss';\n\nexport default () => {\n  const { store } = useContext(Store);\n  const [activeTab, setActiveTab] = useState('Contacts');\n\n  const logout = () => {\n    localStorage.clear();\n    store.Socket.disconnect();\n    window.location.reload();\n  };\n\n  return <div className=\"sidebar\">\n    <Header activeTab={activeTab}/>\n    <div className=\"sidebar-dynamic-content\">\n      {\n        activeTab === 'Contacts' && <FriendsList />\n      }\n      {\n        activeTab === 'Chats' && <Chats />\n      }\n      {\n        activeTab === 'Settings' && <Settings logout={logout}/>\n      }\n    </div>\n    <Footer setActiveTab={setActiveTab} activeTab={activeTab} />\n  </div>\n}\n","import axios from 'axios';\nimport { get as lodashGet } from 'lodash';\nconst API_URL = process.env.REACT_APP_API || 'http://localhost:3030';\n\nconst headers = () => {\n  const headers = {};\n\n  if (localStorage.getItem('TOKEN')) headers['Authorization'] = localStorage.getItem('TOKEN');\n\n  return headers;\n\n}\n\nexport const post = (endpoint, data) => {\n  console.log(`POST /${endpoint}`);\n  return axios.post(`${API_URL}/${endpoint}`, data, { headers: headers() })\n    .then(response => {\n      if (lodashGet(response, 'data.status') === 'OK') {\n        return lodashGet(response, 'data.data');\n      }\n      return null;\n    }).catch(error => {\n      const err = lodashGet(error, 'response.data.error', {message: 'Unknown Error !!'});\n      throw err;\n    });\n};\n\nexport const get = (endpoint) => {\n  console.log(`GET /${endpoint}`);\n  return axios.get(`${API_URL}/${endpoint}`, { headers: headers() })\n    .then(response => {\n      if (lodashGet(response, 'data.status') === 'OK') {\n        return lodashGet(response, 'data.data');\n      }\n      return null;\n    }).catch(error => {\n      const err = lodashGet(error, 'response.data.error', {message: 'Unknown Error !!'});\n      throw err;\n    });\n};\n\nexport default {\n  get,\n  post\n};\n","import React from 'react';\n\nexport default ({ friend = {} }) => {\n  const { firstName, lastName } = friend;\n  return <div className='chat-header'>\n    <div className='chatting-with'>\n      <span>{`${firstName} ${lastName}`}</span>\n      <span className=\"online-status\">Active now</span>\n  </div>\n  </div>\n}\n","import React, { useState } from 'react';\n\n// import Store from '../../store';\n\nconst scrollBottom = () => {\n\tconst conversations = document.getElementsByClassName('conversation')[0];\n\tconversations.scrollTo({\n\t\ttop: conversations.scrollHeight,\n\t\tbehavior: 'smooth',\n\t});\n};\nexport default ({ send }) => {\n\t// const { store, setContext } = useContext(Store);\n\tconst [msg, setState] = useState('');\n\n  const inputChanged = ({ target: { value } }) => setState(value);\n\n\tconst _send = (event) => {\n\t\tif (event.key === 'Enter') {\n      send(msg);\n\t\t\tsetState('');\n\t\t\tscrollBottom();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"msg-form\">\n      <input className=\"form-control\" value={msg} onChange={inputChanged} onKeyPress={_send}></input>\n    </div>\n\t)\n}\n","import React, { useContext, useEffect, useState } from 'react';\n\nimport Store from '../../store';\nimport API from '../../utils/api';\n\nimport ChatHeader from './ChatHeader';\nimport MsgForm from './MsgForm';\n\nconst Sent = ({ msg }) => {\n  return (\n    <React.Fragment>\n      <li>\n        <p className=\"sent\">{msg.content}</p>\n      </li>\n    </React.Fragment>\n  )\n};\n\nconst Replies = ({ msg }) => {\n  return (\n    <React.Fragment>\n      <li>\n        <p className=\"reply\">{msg.content}</p>\n      </li>\n    </React.Fragment>\n  )\n};\n\n\nexport default () => {\n  const { store } = useContext(Store);\n  const { user, activeChannel } = store;\n  const [messages, setMessages] = useState([]);\n\n  const friend = activeChannel.participants.find(p => p._id !== user._id);\n  const IO = store.Socket;\n\n  useEffect(async () => {\n    // active channel changed, subscribe to channel and receive all messages\n    const messages = await API.get(`channels/${activeChannel._id}/messages`);\n    IO.emit('join_private_channel', { channel: activeChannel._id });\n    setMessages(messages);\n\n    IO.on('receive_message', (data) => {\n      // only update state if message received is from active channel user\n      if (data.from === friend._id) {\n        messages.push({ content: data.content });\n        setMessages(messages);\n      }\n    });\n  }, [activeChannel._id]);\n\n  const sendMessage = msg => {\n    messages.push({\n      content: msg,\n      from: user._id,\n      channel: activeChannel._id\n    });\n    setMessages(messages);\n    IO.emit('send_message', { content: msg, channel: activeChannel._id });\n  };\n  return (\n    <React.Fragment>\n      <ChatHeader friend={friend} />\n      <div className=\"conversation\">\n        <ul>\n          {messages.map((msg, id) => <React.Fragment key={id}>\n            {\n              msg.from === user._id ? <Sent msg={msg} /> : <Replies msg={msg} />\n            }\n          </React.Fragment>)}\n        </ul>\n      </div>\n      <MsgForm send={sendMessage} />\n    </React.Fragment>\n  )\n}\n","import React from 'react';\n\nexport default () => {\n  return <div className=\"no-chat-selected\">\n      Please select a chat to start messaging\n    </div>\n}\n","import React, { useContext } from 'react';\n\nimport Store from '../../store';\n\nimport Conversation from './Conversation';\nimport NoChatSelected from './NoChatSelected';\n\nimport './chat.scss';\n\nexport default () => {\n  const { store } = useContext(Store);\n\n  return <div className=\"chat\">\n    {\n      store.activeChannel ? <Conversation /> : <NoChatSelected/>\n    }\n  </div>\n}\n","import React, { useContext, useEffect } from 'react';\n\nimport Store from '../../store';\nimport { Sidebar, Chat } from '../../components';\nimport API from '../../utils/api';\nimport SocketConnection from '../../utils/socket';\n\nexport default () => {\n  const { store, setContext } = useContext(Store);\n\n  useEffect(async () => {\n    // get user and channel information\n    const user = (await API.get(`users`)).shift();\n    const channels = await API.get('channels');\n    const Socket = SocketConnection();\n    setContext({\n      ...store,\n      user,\n      channels,\n      Socket\n    });\n  }, [localStorage.getItem('TOKEN')]);\n\n  return <div className=\"main\">\n    <Sidebar></Sidebar>\n    <Chat></Chat>\n  </div>\n};\n","import io from 'socket.io-client';\n\nexport default () => {\n  console.log('Establishing socket connection..');\n  const Socket = io.connect(process.env.REACT_APP_API, {\n    // transports: ['websocket'],\n    query: {\n      Authorization: localStorage.getItem('TOKEN')\n    },\n  });\n\n  return Socket;\n};\n","import React, { useState } from 'react';\nimport get from 'lodash/get';\n\nimport API from '../../utils/api';\nimport './login.scss';\n\nexport default (props, context) => {\n  const [state, setState] = useState({\n    error: false,\n    username: get(props, 'location.state.username', ''),\n    password: ''\n  });\n  const inputChanged = ({ target }) => {\n    setState({\n      ...state,\n      [target.name]: target.value,\n      error: ''\n    });\n  }\n\n  const login = async (event) => {\n    event.preventDefault();\n    const { username, password } = state;\n    try {\n      const data = await API.post('auth/login', {\n        username,\n        password\n      });\n      if (data && data.token) {\n        localStorage.setItem('TOKEN', data.token);\n        props.history.push('/');\n      }\n    } catch (error) {\n      setState({\n        ...state,\n        error: error.message\n      });\n    }\n  }\n  return (\n    <form onSubmit={login}>\n      <div className=\"login-container\">\n        <div className=\"text-center\">\n          <h2 className=\"heading\">Login</h2>\n        </div>\n        <div className={\"text-center error-text \" + (!state.error ? 'visibility-hidden': '')}>\n          <span>{state.error}</span>\n        </div>\n        <input type=\"text\" className=\"form-control col-sm-9\" name=\"username\" id=\"username\" value={state.username} onChange={inputChanged} required />\n        <input type=\"password\" className=\"form-control col-sm-9\" name=\"password\" id=\"password\" value={state.password} onChange={inputChanged} required />\n\n        <div className=\"text-center\">\n          <button type=\"submit\" className=\"btn login-btn\">Login</button>\n        </div>\n        <div className=\"text-center signup-text\">\n          <span>Don't have an account yet? <a href=\"/register\">Create here</a></span>\n        </div>\n      </div>\n    </form>\n  );\n}\n","import React, { useState } from 'react';\n\nimport API from '../../utils/api';\nimport { AppHistory } from '../../App';\n\nexport default (props, context) => {\n  const [state, setState] = useState({\n    error: '',\n    firstName: '',\n    lastName: '',\n    email: '',\n    password: ''\n  });\n  const inputChanged = ({ target }) => {\n    setState({\n      ...state,\n      [target.name]: target.value,\n      error: ''\n    });\n  }\n\n  const register = async (event) => {\n    event.preventDefault();\n    const { firstName, lastName, email, password } = state;\n    try {\n      const data = await API.post('auth/register', {\n        firstName,\n        lastName,\n        email,\n        password\n      });\n      AppHistory.push('/login', {username: data.username});\n    } catch (error) {\n      setState({\n        ...state,\n        error: error.message\n      });\n    }\n  }\n  return (\n    <form onSubmit={register}>\n      <div className=\"login-container\">\n        <div className=\"text-center\">\n          <h2 className=\"heading\">Signup</h2>\n        </div>\n        <div className={\"text-center error-text \" + (!state.error ? 'visibility-hidden': '')}>\n          <span>{state.error}</span>\n        </div>\n        <input type=\"text\" className=\"form-control col-sm-9\" placeholder=\"First Name\" name=\"firstName\" id=\"firstName\" value={state.firstName} onChange={inputChanged} required />\n        <input type=\"text\" className=\"form-control col-sm-9\" placeholder=\"Last Name\" name=\"lastName\" id=\"lastName\" value={state.lastName} onChange={inputChanged} required />\n        <input type=\"text\" className=\"form-control col-sm-9\" placeholder=\"Email\" name=\"email\" id=\"email\" value={state.email} onChange={inputChanged} required />\n        <input type=\"password\" className=\"form-control col-sm-9\" placeholder=\"Password\" name=\"password\" id=\"password\" value={state.password} onChange={inputChanged} required />\n\n        <div className=\"text-center\">\n          <button type=\"submit\" className=\"btn login-btn\">Sign up</button>\n        </div>\n      </div>\n    </form>\n  );\n}\n","import React from 'react';\nimport { Route, Switch, withRouter, Redirect,  } from 'react-router-dom';\n\nimport { Main, Login, Register } from './pages';\n\nconst isLoggedIn = () => localStorage.getItem('TOKEN');\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={props =>\n        isLoggedIn() ? (\n          <Component {...props} />\n        ) : (\n            <Redirect\n              to={{\n                pathname: '/login',\n                state: { from: props.location }\n              }}\n            />\n          )\n      }\n    />\n  );\n};\n\nconst Routes = () => {\n  return (\n      <Switch>\n        <PrivateRoute component={Main} exact path='/' />\n        <Route exact path='/' render={() => (\n          isLoggedIn() ? (\n            <Redirect to='/' />\n          ) : (\n              <Redirect to='/login' />\n            )\n        )} />\n        <Route exact path='/login' render={() => (\n          isLoggedIn() ? (\n            <Redirect to='/' />\n          ) : (\n              <Route path='/login' component={Login} />\n            )\n        )} />\n        <Route exact path='/register' component={Register} />\n        <Redirect to='/'/>\n      </Switch>\n  );\n};\n\nexport default withRouter(Routes);\n","import React, { useState } from 'react';\nimport { Router } from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\n\nimport StoreContext from './store';\nimport Routes from './Routes';\n\nexport const AppHistory = createBrowserHistory();\n\nexport default () => {\n\n\tconst [store, setContext] = useState({});\n\treturn (\n\t\t<StoreContext.Provider value={{store, setContext}}>\n\t\t\t<Router history={AppHistory}>\n        <Routes/>\n      </Router>\n\t\t</StoreContext.Provider>\n\t);\n}\n","import React from 'react';\nimport { render } from 'react-dom';\n\nimport './index.scss';\nimport App from './App';\n\nrender(<App />, document.getElementById('root'));\n"],"sourceRoot":""}